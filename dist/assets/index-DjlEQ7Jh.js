var Ko=Object.defineProperty;var Ho=(t,e,s)=>e in t?Ko(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var de=(t,e,s)=>Ho(t,typeof e!="symbol"?e+"":e,s);import{r as f,a as Yo,R as Xo}from"./react-vendor-B5ZO-m6Q.js";import{g as sn,i as Zo,a as Qo,b as rn,c as Jo,e as el,o as Li,r as tl,d as sl,f as fe,h as Fe,s as yt,j as Ke,w as es,k as He,q as nn,l as an,m as nt,n as rl,p as on}from"./firebase-vendor-c3EBfK5m.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var Ri={exports:{}},gs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=f,il=Symbol.for("react.element"),al=Symbol.for("react.fragment"),ol=Object.prototype.hasOwnProperty,ll=nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cl={key:!0,ref:!0,__self:!0,__source:!0};function Vi(t,e,s){var r,i={},o=null,a=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ol.call(e,r)&&!cl.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:il,type:t,key:o,ref:a,props:i,_owner:ll.current}}gs.Fragment=al;gs.jsx=Vi;gs.jsxs=Vi;Ri.exports=gs;var n=Ri.exports,Oi,ln=Yo;Oi=ln.createRoot,ln.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const s=f.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...d},u)=>f.createElement("svg",{ref:u,...dl,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${ul(t)}`,l].join(" "),...d},[...e.map(([h,m])=>f.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=G("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=G("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=G("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=G("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=G("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=G("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=G("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=G("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pl(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function ys(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hs=t=>Array.isArray(t);function Hi(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function Mt(t){return typeof t=="string"||Array.isArray(t)}function cn(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function xr(t,e,s,r){if(typeof e=="function"){const[i,o]=cn(r);e=e(s!==void 0?s:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=cn(r);e=e(s!==void 0?s:t.custom,i,o)}return e}function vs(t,e,s){const r=t.getProps();return xr(r,e,s!==void 0?s:r.custom,t)}const br=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yr=["initial",...br],qt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],et=new Set(qt),Te=t=>t*1e3,Pe=t=>t/1e3,Al={type:"spring",stiffness:500,damping:25,restSpeed:10},_l=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),El={type:"keyframes",duration:.8},Dl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ml=(t,{keyframes:e})=>e.length>2?El:et.has(t)?t.startsWith("scale")?_l(e[1]):Al:Dl;function vr(t,e){return t?t[e]||t.default||t:void 0}const Fl={skipAnimations:!1,useManualTiming:!1},Ll=t=>t!==null;function ws(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(Ll),o=e&&s!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const le=t=>t;function Rl(t){let e=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),t()),d(a)}const c={schedule:(d,u=!1,h=!1)=>{const g=h&&r?e:s;return u&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,r){i=!0;return}r=!0,[e,s]=[s,e],s.clear(),e.forEach(l),r=!1,i&&(i=!1,c.process(d))}};return c}const Gt=["read","resolveKeyframes","update","preRender","render","postRender"],Vl=40;function Yi(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=Gt.reduce((p,x)=>(p[x]=Rl(o),p),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=a,g=()=>{const p=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,Vl),1),i.timestamp=p,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(g))},b=()=>{s=!0,r=!0,i.isProcessing||t(g)};return{schedule:Gt.reduce((p,x)=>{const w=a[x];return p[x]=(C,T=!1,D=!1)=>(s||b(),w.schedule(C,T,D)),p},{}),cancel:p=>{for(let x=0;x<Gt.length;x++)a[Gt[x]].cancel(p)},state:i,steps:a}}const{schedule:X,cancel:Ve,state:ie,steps:_s}=Yi(typeof requestAnimationFrame<"u"?requestAnimationFrame:le,!0),Xi=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Ol=1e-7,Il=12;function ql(t,e,s,r,i){let o,a,l=0;do a=e+(s-e)/2,o=Xi(a,r,i)-t,o>0?s=a:e=a;while(Math.abs(o)>Ol&&++l<Il);return a}function zt(t,e,s,r){if(t===e&&s===r)return le;const i=o=>ql(o,0,1,t,s);return o=>o===0||o===1?o:Xi(i(o),e,r)}const Zi=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qi=t=>e=>1-t(1-e),Ji=zt(.33,1.53,.69,.99),wr=Qi(Ji),ea=Zi(wr),ta=t=>(t*=2)<1?.5*wr(t):.5*(2-Math.pow(2,-10*(t-1))),jr=t=>1-Math.sin(Math.acos(t)),sa=Qi(jr),ra=Zi(jr),na=t=>/^0[^.\s]+$/u.test(t);function zl(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||na(t):!0}let Ys=le;const ia=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),aa=t=>e=>typeof e=="string"&&e.startsWith(t),oa=aa("--"),Bl=aa("var(--"),Sr=t=>Bl(t)?Ul.test(t.split("/*")[0].trim()):!1,Ul=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$l=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gl(t){const e=$l.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function la(t,e,s=1){const[r,i]=Gl(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return ia(a)?parseFloat(a):a}return Sr(i)?la(i,e,s+1):i}const Ee=(t,e,s)=>s>e?e:s<t?t:s,pt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ft={...pt,transform:t=>Ee(0,1,t)},Wt={...pt,default:1},Bt=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Le=Bt("deg"),we=Bt("%"),O=Bt("px"),Wl=Bt("vh"),Kl=Bt("vw"),dn={...we,parse:t=>we.parse(t)/100,transform:t=>we.transform(t*100)},Hl=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),un=t=>t===pt||t===O,hn=(t,e)=>parseFloat(t.split(", ")[e]),mn=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return hn(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?hn(o[1],t):0}},Yl=new Set(["x","y","z"]),Xl=qt.filter(t=>!Yl.has(t));function Zl(t){const e=[];return Xl.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const ut={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:mn(4,13),y:mn(5,14)};ut.translateX=ut.x;ut.translateY=ut.y;const ca=t=>e=>e.test(t),Ql={test:t=>t==="auto",parse:t=>t},da=[pt,O,we,Le,Kl,Wl,Ql],fn=t=>da.find(ca(t)),Xe=new Set;let Xs=!1,Zs=!1;function ua(){if(Zs){const t=Array.from(Xe).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=Zl(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([o,a])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zs=!1,Xs=!1,Xe.forEach(t=>t.complete()),Xe.clear()}function ha(){Xe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zs=!0)})}function Jl(){ha(),ua()}class Nr{constructor(e,s,r,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xe.add(this),Xs||(Xs=!0,X.read(ha),X.resolveKeyframes(ua))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&s){const c=r.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Tt=t=>Math.round(t*1e5)/1e5,kr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ec(t){return t==null}const tc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cr=(t,e)=>s=>!!(typeof s=="string"&&tc.test(s)&&s.startsWith(t)||e&&!ec(s)&&Object.prototype.hasOwnProperty.call(s,e)),ma=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,o,a,l]=r.match(kr);return{[t]:parseFloat(i),[e]:parseFloat(o),[s]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},sc=t=>Ee(0,255,t),Es={...pt,transform:t=>Math.round(sc(t))},Ye={test:Cr("rgb","red"),parse:ma("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Es.transform(t)+", "+Es.transform(e)+", "+Es.transform(s)+", "+Tt(Ft.transform(r))+")"};function rc(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qs={test:Cr("#"),parse:rc,transform:Ye.transform},it={test:Cr("hsl","hue"),parse:ma("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+we.transform(Tt(e))+", "+we.transform(Tt(s))+", "+Tt(Ft.transform(r))+")"},ae={test:t=>Ye.test(t)||Qs.test(t)||it.test(t),parse:t=>Ye.test(t)?Ye.parse(t):it.test(t)?it.parse(t):Qs.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ye.transform(t):it.transform(t)},nc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ic(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kr))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(nc))===null||s===void 0?void 0:s.length)||0)>0}const fa="number",pa="color",ac="var",oc="var(",pn="${}",lc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lt(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(lc,c=>(ae.test(c)?(r.color.push(o),i.push(pa),s.push(ae.parse(c))):c.startsWith(oc)?(r.var.push(o),i.push(ac),s.push(c)):(r.number.push(o),i.push(fa),s.push(parseFloat(c))),++o,pn)).split(pn);return{values:s,split:l,indexes:r,types:i}}function ga(t){return Lt(t).values}function xa(t){const{split:e,types:s}=Lt(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const l=s[a];l===fa?o+=Tt(i[a]):l===pa?o+=ae.transform(i[a]):o+=i[a]}return o}}const cc=t=>typeof t=="number"?0:t;function dc(t){const e=ga(t);return xa(t)(e.map(cc))}const Oe={test:ic,parse:ga,createTransformer:xa,getAnimatableNone:dc},uc=new Set(["brightness","contrast","saturate","opacity"]);function hc(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(kr)||[];if(!r)return t;const i=s.replace(r,"");let o=uc.has(e)?1:0;return r!==s&&(o*=100),e+"("+o+i+")"}const mc=/\b([a-z-]*)\(.*?\)/gu,Js={...Oe,getAnimatableNone:t=>{const e=t.match(mc);return e?e.map(hc).join(" "):t}},fc={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O},pc={rotate:Le,rotateX:Le,rotateY:Le,rotateZ:Le,scale:Wt,scaleX:Wt,scaleY:Wt,scaleZ:Wt,skew:Le,skewX:Le,skewY:Le,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:Ft,originX:dn,originY:dn,originZ:O},gn={...pt,transform:Math.round},Tr={...fc,...pc,zIndex:gn,size:O,fillOpacity:Ft,strokeOpacity:Ft,numOctaves:gn},gc={...Tr,color:ae,backgroundColor:ae,outlineColor:ae,fill:ae,stroke:ae,borderColor:ae,borderTopColor:ae,borderRightColor:ae,borderBottomColor:ae,borderLeftColor:ae,filter:Js,WebkitFilter:Js},Pr=t=>gc[t];function ba(t,e){let s=Pr(t);return s!==Js&&(s=Oe),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const xc=new Set(["auto","none","0"]);function bc(t,e,s){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!xc.has(o)&&Lt(o).values.length&&(i=t[r]),r++}if(i&&s)for(const o of e)t[o]=ba(s,i)}class ya extends Nr{constructor(e,s,r,i,o){super(e,s,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Sr(d))){const u=la(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Hl.has(r)||e.length!==2)return;const[i,o]=e,a=fn(i),l=fn(o);if(a!==l)if(un(a)&&un(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)zl(e[i])&&r.push(i);r.length&&bc(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ut[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=ut[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Ar(t){return typeof t=="function"}let ts;function yc(){ts=void 0}const je={now:()=>(ts===void 0&&je.set(ie.isProcessing||Fl.useManualTiming?ie.timestamp:performance.now()),ts),set:t=>{ts=t,queueMicrotask(yc)}},xn=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oe.test(t)||t==="0")&&!t.startsWith("url("));function vc(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function wc(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=xn(i,e),l=xn(o,e);return!a||!l?!1:vc(t)||(s==="spring"||Ar(s))&&r}const jc=40;class va{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=je.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:o,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jc?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Jl(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=je.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:a,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!wc(e,r,i,o))if(a)this.options.duration=0;else{c==null||c(ws(e,this.options,s)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},wa=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let o=0;o<i;o++)r+=t(ht(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function ja(t,e){return e?t*(1e3/e):0}const Sc=5;function Sa(t,e,s){const r=Math.max(e-Sc,0);return ja(s-t(r),e-r)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ds=.001;function Nc({duration:t=te.duration,bounce:e=te.bounce,velocity:s=te.velocity,mass:r=te.mass}){let i,o,a=1-e;a=Ee(te.minDamping,te.maxDamping,a),t=Ee(te.minDuration,te.maxDuration,Pe(t)),a<1?(i=d=>{const u=d*a,h=u*t,m=u-s,g=er(d,a),b=Math.exp(-h);return Ds-m/g*b},o=d=>{const h=d*a*t,m=h*s+s,g=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-h),y=er(Math.pow(d,2),a);return(-i(d)+Ds>0?-1:1)*((m-g)*b)/y}):(i=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-Ds+u*h},o=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=Cc(i,o,l);if(t=Te(t),isNaN(c))return{stiffness:te.stiffness,damping:te.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const kc=12;function Cc(t,e,s){let r=s;for(let i=1;i<kc;i++)r=r-t(r)/e(r);return r}function er(t,e){return t*Math.sqrt(1-e*e)}const tr=2e4;function Na(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<tr;)e+=s,r=t.next(e);return e>=tr?1/0:e}const Tc=["duration","bounce"],Pc=["stiffness","damping","mass"];function bn(t,e){return e.some(s=>t[s]!==void 0)}function Ac(t){let e={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...t};if(!bn(t,Pc)&&bn(t,Tc))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,o=2*Ee(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:te.mass,stiffness:i,damping:o}}else{const s=Nc(t);e={...e,...s,mass:te.mass},e.isResolvedFromDuration=!0}return e}function ka(t=te.visualDuration,e=te.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:g}=Ac({...s,velocity:-Pe(s.velocity||0)}),b=m||0,y=d/(2*Math.sqrt(c*u)),v=a-o,p=Pe(Math.sqrt(c/u)),x=Math.abs(v)<5;r||(r=x?te.restSpeed.granular:te.restSpeed.default),i||(i=x?te.restDelta.granular:te.restDelta.default);let w;if(y<1){const T=er(p,y);w=D=>{const z=Math.exp(-y*p*D);return a-z*((b+y*p*v)/T*Math.sin(T*D)+v*Math.cos(T*D))}}else if(y===1)w=T=>a-Math.exp(-p*T)*(v+(b+p*v)*T);else{const T=p*Math.sqrt(y*y-1);w=D=>{const z=Math.exp(-y*p*D),_=Math.min(T*D,300);return a-z*((b+y*p*v)*Math.sinh(_)+T*v*Math.cosh(_))/T}}const C={calculatedDuration:g&&h||null,next:T=>{const D=w(T);if(g)l.done=T>=h;else{let z=0;y<1&&(z=T===0?Te(b):Sa(w,T,D));const _=Math.abs(z)<=r,$=Math.abs(a-D)<=i;l.done=_&&$}return l.value=l.done?a:D,l},toString:()=>{const T=Math.min(Na(C),tr),D=wa(z=>C.next(T*z).value,T,30);return T+"ms "+D}};return C}function yn({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,b=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let y=s*e;const v=h+y,p=a===void 0?v:a(v);p!==v&&(y=p-h);const x=_=>-y*Math.exp(-_/r),w=_=>p+x(_),C=_=>{const $=x(_),U=w(_);m.done=Math.abs($)<=d,m.value=m.done?p:U};let T,D;const z=_=>{g(m.value)&&(T=_,D=ka({keyframes:[m.value,b(m.value)],velocity:Sa(w,_,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return z(0),{calculatedDuration:null,next:_=>{let $=!1;return!D&&T===void 0&&($=!0,C(_),z(_)),T!==void 0&&_>=T?D.next(_-T):(!$&&C(_),m)}}}const _c=zt(.42,0,1,1),Ec=zt(0,0,.58,1),Ca=zt(.42,0,.58,1),Dc=t=>Array.isArray(t)&&typeof t[0]!="number",_r=t=>Array.isArray(t)&&typeof t[0]=="number",vn={linear:le,easeIn:_c,easeInOut:Ca,easeOut:Ec,circIn:jr,circInOut:ra,circOut:sa,backIn:wr,backInOut:ea,backOut:Ji,anticipate:ta},wn=t=>{if(_r(t)){Ys(t.length===4);const[e,s,r,i]=t;return zt(e,s,r,i)}else if(typeof t=="string")return Ys(vn[t]!==void 0),vn[t];return t},Mc=(t,e)=>s=>e(t(s)),Ae=(...t)=>t.reduce(Mc),J=(t,e,s)=>t+(e-t)*s;function Ms(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Fc({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,o=0,a=0;if(!e)i=o=a=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=Ms(c,l,t+1/3),o=Ms(c,l,t),a=Ms(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function ns(t,e){return s=>s>0?e:t}const Fs=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Lc=[Qs,Ye,it],Rc=t=>Lc.find(e=>e.test(t));function jn(t){const e=Rc(t);if(!e)return!1;let s=e.parse(t);return e===it&&(s=Fc(s)),s}const Sn=(t,e)=>{const s=jn(t),r=jn(e);if(!s||!r)return ns(t,e);const i={...s};return o=>(i.red=Fs(s.red,r.red,o),i.green=Fs(s.green,r.green,o),i.blue=Fs(s.blue,r.blue,o),i.alpha=J(s.alpha,r.alpha,o),Ye.transform(i))},sr=new Set(["none","hidden"]);function Vc(t,e){return sr.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function Oc(t,e){return s=>J(t,e,s)}function Er(t){return typeof t=="number"?Oc:typeof t=="string"?Sr(t)?ns:ae.test(t)?Sn:zc:Array.isArray(t)?Ta:typeof t=="object"?ae.test(t)?Sn:Ic:ns}function Ta(t,e){const s=[...t],r=s.length,i=t.map((o,a)=>Er(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)s[a]=i[a](o);return s}}function Ic(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Er(t[i])(t[i],e[i]));return i=>{for(const o in r)s[o]=r[o](i);return s}}function qc(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][i[a]],c=(s=t.values[l])!==null&&s!==void 0?s:0;r[o]=c,i[a]++}return r}const zc=(t,e)=>{const s=Oe.createTransformer(e),r=Lt(t),i=Lt(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sr.has(t)&&!i.values.length||sr.has(e)&&!r.values.length?Vc(t,e):Ae(Ta(qc(r,i),i.values),s):ns(t,e)};function Pa(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?J(t,e,s):Er(t)(t,e)}function Bc(t,e,s){const r=[],i=s||Pa,o=t.length-1;for(let a=0;a<o;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||le:e;l=Ae(c,l)}r.push(l)}return r}function Uc(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const o=t.length;if(Ys(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Bc(e,r,i),l=a.length,c=d=>{let u=0;if(l>1)for(;u<t.length-2&&!(d<t[u+1]);u++);const h=ht(t[u],t[u+1],d);return a[u](h)};return s?d=>c(Ee(t[0],t[o-1],d)):c}function $c(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=ht(0,e,r);t.push(J(s,1,i))}}function Gc(t){const e=[0];return $c(e,t.length-1),e}function Wc(t,e){return t.map(s=>s*e)}function Kc(t,e){return t.map(()=>e||Ca).splice(0,t.length-1)}function is({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=Dc(r)?r.map(wn):wn(r),o={done:!1,value:e[0]},a=Wc(s&&s.length===e.length?s:Gc(e),t),l=Uc(a,e,{ease:Array.isArray(i)?i:Kc(e,i)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const Hc=t=>{const e=({timestamp:s})=>t(s);return{start:()=>X.update(e,!0),stop:()=>Ve(e),now:()=>ie.isProcessing?ie.timestamp:je.now()}},Yc={decay:yn,inertia:yn,tween:is,keyframes:is,spring:ka},Xc=t=>t/100;class Dr extends va{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:o}=this.options,a=(i==null?void 0:i.KeyframeResolver)||Nr,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new a(o,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,l=Ar(s)?s:Yc[s]||is;let c,d;l!==is&&typeof e[0]!="number"&&(c=Ae(Xc,Pa(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});o==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Na(u));const{calculatedDuration:h}=u,m=h+i,g=m*(r+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:b,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const p=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?p<0:p>u;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,C=o;if(g){const _=Math.min(this.currentTime,u)/h;let $=Math.floor(_),U=_%1;!U&&_>=1&&(U=1),U===1&&$--,$=Math.min($,g+1),!!($%2)&&(b==="reverse"?(U=1-U,y&&(U-=y/h)):b==="mirror"&&(C=a)),w=Ee(0,1,U)*h}const T=x?{done:!1,value:c[0]}:C.next(w);l&&(T.value=l(T.value));let{done:D}=T;!x&&d!==null&&(D=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return z&&i!==void 0&&(T.value=ws(c,this.options,i)),v&&v(T.value),z&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Pe(e.calculatedDuration):0}get time(){return Pe(this.currentTime)}set time(e){e=Te(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Pe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Hc,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Zc=new Set(["opacity","clipPath","filter","transform"]);function Mr(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qc={linearEasing:void 0};function Jc(t,e){const s=Mr(t);return()=>{var r;return(r=Qc[e])!==null&&r!==void 0?r:s()}}const as=Jc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Aa(t){return!!(typeof t=="function"&&as()||!t||typeof t=="string"&&(t in rr||as())||_r(t)||Array.isArray(t)&&t.every(Aa))}const Nt=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,rr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nt([0,.65,.55,1]),circOut:Nt([.55,0,1,.45]),backIn:Nt([.31,.01,.66,-.59]),backOut:Nt([.33,1.53,.69,.99])};function _a(t,e){if(t)return typeof t=="function"&&as()?wa(t,e):_r(t)?Nt(t):Array.isArray(t)?t.map(s=>_a(s,e)||rr.easeOut):rr[t]}function ed(t,e,s,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=_a(l,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function Nn(t,e){t.timeline=e,t.onfinish=null}const td=Mr(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),os=10,sd=2e4;function rd(t){return Ar(t.type)||t.type==="spring"||!Aa(t.ease)}function nd(t,e){const s=new Dr({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<sd;)r=s.sample(o),i.push(r.value),o+=os;return{times:void 0,keyframes:i,duration:o-os,ease:"linear"}}const Ea={anticipate:ta,backInOut:ea,circInOut:ra};function id(t){return t in Ea}class kn extends va{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new ya(o,(a,l)=>this.onKeyframesResolved(a,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){var r;let{duration:i=300,times:o,ease:a,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&as()&&id(a)&&(a=Ea[a]),rd(this.options)){const{onComplete:m,onUpdate:g,motionValue:b,element:y,...v}=this.options,p=nd(e,v);e=p.keyframes,e.length===1&&(e[1]=e[0]),i=p.duration,o=p.times,a=p.ease,l="keyframes"}const h=ed(c.owner.current,d,e,{...this.options,duration:i,times:o,ease:a});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Nn(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set(ws(e,this.options,s)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:o,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Pe(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Pe(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Te(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return le;const{animation:r}=s;Nn(r,e)}return le}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:o,ease:a,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...g}=this.options,b=new Dr({...g,keyframes:r,duration:i,type:o,ease:a,times:l,isGenerator:!0}),y=Te(this.time);d.setWithVelocity(b.sample(y-os).value,b.sample(y).value,os)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:o,damping:a,type:l}=e;return td()&&r&&Zc.has(r)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!i&&o!=="mirror"&&a!==0&&l!=="inertia"}}const ad=Mr(()=>window.ScrollTimeline!==void 0);class od{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,s){return Promise.all(this.animations).then(e).catch(s)}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>ad()&&i.attachTimeline?i.attachTimeline(e):s(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ld({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Fr=(t,e,s,r={},i,o)=>a=>{const l=vr(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Te(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};ld(l)||(u={...u,...Ml(t,u)}),u.duration&&(u.duration=Te(u.duration)),u.repeatDelay&&(u.repeatDelay=Te(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const m=ws(u.keyframes,l);if(m!==void 0)return X.update(()=>{u.onUpdate(m),u.onComplete()}),new od([])}return!o&&kn.supports(u)?new kn(u):new Dr(u)},cd=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dd=t=>Hs(t)?t[t.length-1]||0:t;function Lr(t,e){t.indexOf(e)===-1&&t.push(e)}function Rr(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Vr{constructor(){this.subscriptions=[]}add(e){return Lr(this.subscriptions,e),()=>Rr(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cn=30,ud=t=>!isNaN(parseFloat(t));class hd{constructor(e,s={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=je.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=je.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ud(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Vr);const r=this.events[e].add(s);return e==="change"?()=>{r(),X.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Cn);return ja(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rt(t,e){return new hd(t,e)}function md(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Rt(s))}function fd(t,e){const s=vs(t,e);let{transitionEnd:r={},transition:i={},...o}=s||{};o={...o,...r};for(const a in o){const l=dd(o[a]);md(t,a,l)}}const Or=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pd="framerAppearId",Da="data-"+Or(pd);function Ma(t){return t.props[Da]}const oe=t=>!!(t&&t.getVelocity);function gd(t){return!!(oe(t)&&t.add)}function nr(t,e){const s=t.getValue("willChange");if(gd(s))return s.add(e)}function xd({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function Fa(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const m=t.getValue(h,(o=t.latestValues[h])!==null&&o!==void 0?o:null),g=c[h];if(g===void 0||u&&xd(u,h))continue;const b={delay:s,...vr(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const p=Ma(t);if(p){const x=window.MotionHandoffAnimation(p,h,X);x!==null&&(b.startTime=x,y=!0)}}nr(t,h),m.start(Fr(h,m,g,t.shouldReduceMotion&&et.has(h)?{type:!1}:b,t,y));const v=m.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{X.update(()=>{l&&fd(t,l)})}),d}function ir(t,e,s={}){var r;const i=vs(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const a=i?()=>Promise.all(Fa(t,i,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=o;return bd(t,e,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,u]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>u())}else return Promise.all([a(),l(s.delay)])}function bd(t,e,s=0,r=0,i=1,o){const a=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(yd).forEach((d,u)=>{d.notify("AnimationStart",e),a.push(ir(d,e,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function yd(t,e){return t.sortNodePosition(e)}function vd(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>ir(t,o,s));r=Promise.all(i)}else if(typeof e=="string")r=ir(t,e,s);else{const i=typeof e=="function"?vs(t,e,s.custom):e;r=Promise.all(Fa(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const wd=yr.length;function La(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?La(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<wd;s++){const r=yr[s],i=t.props[r];(Mt(i)||i===!1)&&(e[r]=i)}return e}const jd=[...br].reverse(),Sd=br.length;function Nd(t){return e=>Promise.all(e.map(({animation:s,options:r})=>vd(t,s,r)))}function kd(t){let e=Nd(t),s=Tn(),r=!0;const i=c=>(d,u)=>{var h;const m=vs(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:b,...y}=m;d={...d,...y,...b}}return d};function o(c){e=c(t)}function a(c){const{props:d}=t,u=La(t.parent)||{},h=[],m=new Set;let g={},b=1/0;for(let v=0;v<Sd;v++){const p=jd[v],x=s[p],w=d[p]!==void 0?d[p]:u[p],C=Mt(w),T=p===c?x.isActive:null;T===!1&&(b=v);let D=w===u[p]&&w!==d[p]&&C;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),x.protectedKeys={...g},!x.isActive&&T===null||!w&&!x.prevProp||ys(w)||typeof w=="boolean")continue;const z=Cd(x.prevProp,w);let _=z||p===c&&x.isActive&&!D&&C||v>b&&C,$=!1;const U=Array.isArray(w)?w:[w];let Y=U.reduce(i(p),{});T===!1&&(Y={});const{prevResolvedValues:M={}}=x,N={...M,...Y},j=E=>{_=!0,m.has(E)&&($=!0,m.delete(E)),x.needsAnimating[E]=!0;const L=t.getValue(E);L&&(L.liveStyle=!1)};for(const E in N){const L=Y[E],S=M[E];if(g.hasOwnProperty(E))continue;let F=!1;Hs(L)&&Hs(S)?F=!Hi(L,S):F=L!==S,F?L!=null?j(E):m.add(E):L!==void 0&&m.has(E)?j(E):x.protectedKeys[E]=!0}x.prevProp=w,x.prevResolvedValues=Y,x.isActive&&(g={...g,...Y}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(D&&z)||$)&&h.push(...U.map(E=>({animation:E,options:{type:p}})))}if(m.size){const v={};m.forEach(p=>{const x=t.getBaseTarget(p),w=t.getValue(p);w&&(w.liveStyle=!0),v[p]=x??null}),h.push({animation:v})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),s[c].isActive=d;const h=a(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Tn(),r=!0}}}function Cd(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hi(e,t):!1}function Be(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tn(){return{animate:Be(!0),whileInView:Be(),whileHover:Be(),whileTap:Be(),whileDrag:Be(),whileFocus:Be(),exit:Be()}}class qe{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Td extends qe{constructor(e){super(e),e.animationState||(e.animationState=kd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ys(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Pd=0;class Ad extends qe{constructor(){super(...arguments),this.id=Pd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _d={animation:{Feature:Td},exit:{Feature:Ad}},Ra=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function js(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Ed=t=>e=>Ra(e)&&t(e,js(e));function ke(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function _e(t,e,s,r){return ke(t,e,Ed(s),r)}const Pn=(t,e)=>Math.abs(t-e);function Dd(t,e){const s=Pn(t.x,e.x),r=Pn(t.y,e.y);return Math.sqrt(s**2+r**2)}class Va{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Rs(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Dd(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=h,{timestamp:y}=ie;this.history.push({...b,timestamp:y});const{onStart:v,onMove:p}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ls(m,this.transformPagePoint),X.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Rs(h.type==="pointercancel"?this.lastMoveEventInfo:Ls(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),b&&b(h,v)},!Ra(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const a=js(e),l=Ls(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=ie;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(e,Rs(l,this.history)),this.removeListeners=Ae(_e(this.contextWindow,"pointermove",this.handlePointerMove),_e(this.contextWindow,"pointerup",this.handlePointerUp),_e(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ve(this.updatePoint)}}function Ls(t,e){return e?{point:e(t.point)}:t}function An(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rs({point:t},e){return{point:t,delta:An(t,Oa(e)),offset:An(t,Md(e)),velocity:Fd(e,.1)}}function Md(t){return t[0]}function Oa(t){return t[t.length-1]}function Fd(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=Oa(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Te(e)));)s--;if(!r)return{x:0,y:0};const o=Pe(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ia(t){let e=null;return()=>{const s=()=>{e=null};return e===null?(e=t,s):!1}}const _n=Ia("dragHorizontal"),En=Ia("dragVertical");function qa(t){let e=!1;if(t==="y")e=En();else if(t==="x")e=_n();else{const s=_n(),r=En();s&&r?e=()=>{s(),r()}:(s&&s(),r&&r())}return e}function za(){const t=qa(!0);return t?(t(),!1):!0}function at(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Ba=1e-4,Ld=1-Ba,Rd=1+Ba,Ua=.01,Vd=0-Ua,Od=0+Ua;function ue(t){return t.max-t.min}function Id(t,e,s){return Math.abs(t-e)<=s}function Dn(t,e,s,r=.5){t.origin=r,t.originPoint=J(e.min,e.max,t.origin),t.scale=ue(s)/ue(e),t.translate=J(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Ld&&t.scale<=Rd||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vd&&t.translate<=Od||isNaN(t.translate))&&(t.translate=0)}function Pt(t,e,s,r){Dn(t.x,e.x,s.x,r?r.originX:void 0),Dn(t.y,e.y,s.y,r?r.originY:void 0)}function Mn(t,e,s){t.min=s.min+e.min,t.max=t.min+ue(e)}function qd(t,e,s){Mn(t.x,e.x,s.x),Mn(t.y,e.y,s.y)}function Fn(t,e,s){t.min=e.min-s.min,t.max=t.min+ue(e)}function At(t,e,s){Fn(t.x,e.x,s.x),Fn(t.y,e.y,s.y)}function zd(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?J(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?J(s,t,r.max):Math.min(t,s)),t}function Ln(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Bd(t,{top:e,left:s,bottom:r,right:i}){return{x:Ln(t.x,s,i),y:Ln(t.y,e,r)}}function Rn(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function Ud(t,e){return{x:Rn(t.x,e.x),y:Rn(t.y,e.y)}}function $d(t,e){let s=.5;const r=ue(t),i=ue(e);return i>r?s=ht(e.min,e.max-r,t.min):r>i&&(s=ht(t.min,t.max-i,e.min)),Ee(0,1,s)}function Gd(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const ar=.35;function Wd(t=ar){return t===!1?t=0:t===!0&&(t=ar),{x:Vn(t,"left","right"),y:Vn(t,"top","bottom")}}function Vn(t,e,s){return{min:On(t,e),max:On(t,s)}}function On(t,e){return typeof t=="number"?t:t[e]||0}const In=()=>({translate:0,scale:1,origin:0,originPoint:0}),ot=()=>({x:In(),y:In()}),qn=()=>({min:0,max:0}),re=()=>({x:qn(),y:qn()});function me(t){return[t("x"),t("y")]}function $a({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function Kd({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hd(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Vs(t){return t===void 0||t===1}function or({scale:t,scaleX:e,scaleY:s}){return!Vs(t)||!Vs(e)||!Vs(s)}function Ue(t){return or(t)||Ga(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ga(t){return zn(t.x)||zn(t.y)}function zn(t){return t&&t!=="0%"}function ls(t,e,s){const r=t-s,i=e*r;return s+i}function Bn(t,e,s,r,i){return i!==void 0&&(t=ls(t,i,r)),ls(t,s,r)+e}function lr(t,e=0,s=1,r,i){t.min=Bn(t.min,e,s,r,i),t.max=Bn(t.max,e,s,r,i)}function Wa(t,{x:e,y:s}){lr(t.x,e.translate,e.scale,e.originPoint),lr(t.y,s.translate,s.scale,s.originPoint)}const Un=.999999999999,$n=1.0000000000001;function Yd(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let o,a;for(let l=0;l<i;l++){o=s[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ct(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Wa(t,a)),r&&Ue(o.latestValues)&&ct(t,o.latestValues))}e.x<$n&&e.x>Un&&(e.x=1),e.y<$n&&e.y>Un&&(e.y=1)}function lt(t,e){t.min=t.min+e,t.max=t.max+e}function Gn(t,e,s,r,i=.5){const o=J(t.min,t.max,i);lr(t,e,s,o,r)}function ct(t,e){Gn(t.x,e.x,e.scaleX,e.scale,e.originX),Gn(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ka(t,e){return $a(Hd(t.getBoundingClientRect(),e))}function Xd(t,e,s){const r=Ka(t,s),{scroll:i}=e;return i&&(lt(r.x,i.offset.x),lt(r.y,i.offset.y)),r}const Ha=({current:t})=>t?t.ownerDocument.defaultView:null,Zd=new WeakMap;class Qd{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(js(u,"page").point)},o=(u,h)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qa(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),me(v=>{let p=this.getAxisMotionValue(v).get()||0;if(we.test(p)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(p=ue(w)*(parseFloat(p)/100))}}this.originPoint[v]=p}),b&&X.postRender(()=>b(u,h)),nr(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:y}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=Jd(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(u,h)},l=(u,h)=>this.stop(u,h),c=()=>me(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Va(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Ha(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&X.postRender(()=>o(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!Kt(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=zd(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;s&&at(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=Bd(i.layoutBox,s):this.constraints=!1,this.elastic=Wd(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&me(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Gd(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!at(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Xd(r,i.root,this.visualElement.getTransformPagePoint());let a=Ud(i.layout.layoutBox,o);if(s){const l=s(Kd(a));this.hasMutatedConstraints=!!l,l&&(a=$a(l))}return a}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=me(u=>{if(!Kt(u,s,this.currentDirection))return;let h=c&&c[u]||{};a&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return nr(this.visualElement,e),r.start(Fr(e,r,0,s,this.visualElement,!1))}stopAnimation(){me(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){me(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){me(s=>{const{drag:r}=this.getProps();if(!Kt(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[s];o.set(e[s]-J(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!at(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};me(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=$d({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),me(a=>{if(!Kt(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(J(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;Zd.set(this.visualElement,this);const e=this.visualElement.current,s=_e(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();at(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),X.read(r);const a=ke(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(me(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=ar,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Kt(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Jd(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class eu extends qe{constructor(e){super(e),this.removeGroupControls=le,this.removeListeners=le,this.controls=new Qd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||le}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wn=t=>(e,s)=>{t&&X.postRender(()=>t(e,s))};class tu extends qe{constructor(){super(...arguments),this.removePointerDownListener=le}onPointerDown(e){this.session=new Va(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ha(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Wn(e),onStart:Wn(s),onMove:r,onEnd:(o,a)=>{delete this.session,i&&X.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=_e(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ss=f.createContext(null);function su(){const t=f.useContext(Ss);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:r}=t,i=f.useId();f.useEffect(()=>r(i),[]);const o=f.useCallback(()=>s&&s(i),[i,s]);return!e&&s?[!1,o]:[!0]}const Ir=f.createContext({}),Ya=f.createContext({}),ss={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kn(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(O.test(t))t=parseFloat(t);else return t;const s=Kn(t,e.target.x),r=Kn(t,e.target.y);return`${s}% ${r}%`}},ru={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=Oe.parse(t);if(i.length>5)return r;const o=Oe.createTransformer(t),a=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=J(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}},cs={};function nu(t){Object.assign(cs,t)}const{schedule:qr,cancel:sp}=Yi(queueMicrotask,!1);class iu extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;nu(au),o&&(s.group&&s.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ss.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==s||s===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||X.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xa(t){const[e,s]=su(),r=f.useContext(Ir);return n.jsx(iu,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(Ya),isPresent:e,safeToRemove:s})}const au={borderRadius:{...vt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomLeftRadius:vt,borderBottomRightRadius:vt,boxShadow:ru},Za=["TopLeft","TopRight","BottomLeft","BottomRight"],ou=Za.length,Hn=t=>typeof t=="string"?parseFloat(t):t,Yn=t=>typeof t=="number"||O.test(t);function lu(t,e,s,r,i,o){i?(t.opacity=J(0,s.opacity!==void 0?s.opacity:1,cu(r)),t.opacityExit=J(e.opacity!==void 0?e.opacity:1,0,du(r))):o&&(t.opacity=J(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let a=0;a<ou;a++){const l=`border${Za[a]}Radius`;let c=Xn(e,l),d=Xn(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Yn(c)===Yn(d)?(t[l]=Math.max(J(Hn(c),Hn(d),r),0),(we.test(d)||we.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=J(e.rotate||0,s.rotate||0,r))}function Xn(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cu=Qa(0,.5,sa),du=Qa(.5,.95,le);function Qa(t,e,s){return r=>r<t?0:r>e?1:s(ht(t,e,r))}function Zn(t,e){t.min=e.min,t.max=e.max}function he(t,e){Zn(t.x,e.x),Zn(t.y,e.y)}function Qn(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Jn(t,e,s,r,i){return t-=e,t=ls(t,1/s,r),i!==void 0&&(t=ls(t,1/i,r)),t}function uu(t,e=0,s=1,r=.5,i,o=t,a=t){if(we.test(e)&&(e=parseFloat(e),e=J(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=J(o.min,o.max,r);t===o&&(l-=e),t.min=Jn(t.min,e,s,l,i),t.max=Jn(t.max,e,s,l,i)}function ei(t,e,[s,r,i],o,a){uu(t,e[s],e[r],e[i],e.scale,o,a)}const hu=["x","scaleX","originX"],mu=["y","scaleY","originY"];function ti(t,e,s,r){ei(t.x,e,hu,s?s.x:void 0,r?r.x:void 0),ei(t.y,e,mu,s?s.y:void 0,r?r.y:void 0)}function si(t){return t.translate===0&&t.scale===1}function Ja(t){return si(t.x)&&si(t.y)}function ri(t,e){return t.min===e.min&&t.max===e.max}function fu(t,e){return ri(t.x,e.x)&&ri(t.y,e.y)}function ni(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eo(t,e){return ni(t.x,e.x)&&ni(t.y,e.y)}function ii(t){return ue(t.x)/ue(t.y)}function ai(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pu{constructor(){this.members=[]}add(e){Lr(this.members,e),e.scheduleRender()}remove(e){if(Rr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gu(t,e,s){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(s==null?void 0:s.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:g,skewY:b}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const xu=(t,e)=>t.depth-e.depth;class bu{constructor(){this.children=[],this.isDirty=!1}add(e){Lr(this.children,e),this.isDirty=!0}remove(e){Rr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xu),this.isDirty=!1,this.children.forEach(e)}}function rs(t){const e=oe(t)?t.get():t;return cd(e)?e.toValue():e}function yu(t,e){const s=je.now(),r=({timestamp:i})=>{const o=i-s;o>=e&&(Ve(r),t(o-e))};return X.read(r,!0),()=>Ve(r)}function vu(t){return t instanceof SVGElement&&t.tagName!=="svg"}function wu(t,e,s){const r=oe(t)?t:Rt(t);return r.start(Fr("",r,e,s)),r.animation}const $e={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kt=typeof window<"u"&&window.MotionDebug!==void 0,Os=["","X","Y","Z"],ju={visibility:"hidden"},oi=1e3;let Su=0;function Is(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function to(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Ma(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",X,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&to(r)}function so({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Su++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kt&&($e.totalNodes=$e.resolvedTargetDeltas=$e.recalculatedProjection=0),this.nodes.forEach(Cu),this.nodes.forEach(Eu),this.nodes.forEach(Du),this.nodes.forEach(Tu),kt&&window.MotionDebug.record($e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bu)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Vr),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vu(a),this.instance=a;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=yu(m,250),ss.hasAnimatedSinceResize&&(ss.hasAnimatedSinceResize=!1,this.nodes.forEach(ci))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Vu,{onLayoutAnimationStart:v,onLayoutAnimationComplete:p}=u.getProps(),x=!this.targetLayout||!eo(this.targetLayout,b)||g,w=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...vr(y,"layout"),onPlay:v,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||ci(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ve(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mu),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&to(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(li);return}this.isUpdating||this.nodes.forEach(Au),this.isUpdating=!1,this.nodes.forEach(_u),this.nodes.forEach(Nu),this.nodes.forEach(ku),this.clearAllSnapshots();const l=je.now();ie.delta=Ee(0,1e3/60,l-ie.timestamp),ie.timestamp=l,ie.isProcessing=!0,_s.update.process(ie),_s.preRender.process(ie),_s.render.process(ie),ie.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pu),this.sharedNodes.forEach(Fu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,X.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){X.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ja(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&(l||Ue(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Ou(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return re();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Iu))){const{scroll:u}=this.root;u&&(lt(c.x,u.offset.x),lt(c.y,u.offset.y))}return c}removeElementScroll(a){var l;const c=re();if(he(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&he(c,a),lt(c.x,h.offset.x),lt(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=re();he(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ct(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ue(u.latestValues)&&ct(c,u.latestValues)}return Ue(this.latestValues)&&ct(c,this.latestValues),c}removeTransform(a){const l=re();he(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ue(d.latestValues))continue;or(d.latestValues)&&d.updateSnapshot();const u=re(),h=d.measurePageBox();he(u,h),ti(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ue(this.latestValues)&&ti(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ie.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=ie.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),At(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),he(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):he(this.target,this.layout.layoutBox),Wa(this.target,this.targetDelta)):he(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),At(this.relativeTargetOrigin,this.target,g.target),he(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kt&&$e.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||or(this.parent.latestValues)||Ga(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ie.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;he(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;Yd(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=re());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qn(this.prevProjectionDelta.x,this.projectionDelta.x),Qn(this.prevProjectionDelta.y,this.projectionDelta.y)),Pt(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!ai(this.projectionDelta.x,this.prevProjectionDelta.x)||!ai(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),kt&&$e.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ot(),this.projectionDelta=ot(),this.projectionDeltaWithTransform=ot()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ot();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=re(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=g!==b,v=this.getStack(),p=!v||v.members.length<=1,x=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(Ru));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const T=C/1e3;di(h.x,a.x,T),di(h.y,a.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(At(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lu(this.relativeTarget,this.relativeTargetOrigin,m,T),w&&fu(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=re()),he(w,this.relativeTarget)),y&&(this.animationValues=u,lu(u,d,this.latestValues,T,x,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ve(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=X.update(()=>{ss.hasAnimatedSinceResize=!0,this.currentAnimation=wu(0,oi,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oi),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&ro(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||re();const h=ue(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=ue(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}he(l,c),ct(l,u),Pt(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new pu),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Is("z",a,d,this.animationValues);for(let u=0;u<Os.length;u++)Is(`rotate${Os[u]}`,a,d,this.animationValues),Is(`skew${Os[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ju;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=rs(a==null?void 0:a.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=rs(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ue(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=gu(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:g,y:b}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in cs){if(m[y]===void 0)continue;const{correct:v,applyTo:p}=cs[y],x=d.transform==="none"?m[y]:v(m[y],h);if(p){const w=p.length;for(let C=0;C<w;C++)d[p[C]]=x}else d[y]=x}return this.options.layoutId&&(d.pointerEvents=h===this?rs(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(li),this.root.sharedNodes.clear()}}}function Nu(t){t.updateLayout()}function ku(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=s.source!==t.layout.source;o==="size"?me(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],g=ue(m);m.min=r[h].min,m.max=m.min+g}):ro(o,s.layoutBox,r)&&me(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],g=ue(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=ot();Pt(l,r,s.layoutBox);const c=ot();a?Pt(c,t.applyTransform(i,!0),s.measuredBox):Pt(c,r,s.layoutBox);const d=!Ja(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const b=re();At(b,s.layoutBox,m.layoutBox);const y=re();At(y,r,g.layoutBox),eo(b,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Cu(t){kt&&$e.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tu(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Pu(t){t.clearSnapshot()}function li(t){t.clearMeasurements()}function Au(t){t.isLayoutDirty=!1}function _u(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ci(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Eu(t){t.resolveTargetDelta()}function Du(t){t.calcProjection()}function Mu(t){t.resetSkewAndRotation()}function Fu(t){t.removeLeadSnapshot()}function di(t,e,s){t.translate=J(e.translate,0,s),t.scale=J(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function ui(t,e,s,r){t.min=J(e.min,s.min,r),t.max=J(e.max,s.max,r)}function Lu(t,e,s,r){ui(t.x,e.x,s.x,r),ui(t.y,e.y,s.y,r)}function Ru(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vu={duration:.45,ease:[.4,0,.1,1]},hi=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mi=hi("applewebkit/")&&!hi("chrome/")?Math.round:le;function fi(t){t.min=mi(t.min),t.max=mi(t.max)}function Ou(t){fi(t.x),fi(t.y)}function ro(t,e,s){return t==="position"||t==="preserve-aspect"&&!Id(ii(e),ii(s),.2)}function Iu(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const qu=so({attachResizeListener:(t,e)=>ke(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qs={current:void 0},no=so({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qs.current){const t=new qu({});t.mount(window),t.setOptions({layoutScroll:!0}),qs.current=t}return qs.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zu={pan:{Feature:tu},drag:{Feature:eu,ProjectionNode:no,MeasureLayout:Xa}};function pi(t,e){const s=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(o,a)=>{if(o.pointerType==="touch"||za())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e);const c=l[r];c&&X.postRender(()=>c(o,a))};return _e(t.current,s,i,{passive:!t.getProps()[r]})}class Bu extends qe{mount(){this.unmount=Ae(pi(this.node,!0),pi(this.node,!1))}unmount(){}}class Uu extends qe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ae(ke(this.node.current,"focus",()=>this.onFocus()),ke(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const io=(t,e)=>e?t===e?!0:io(t,e.parentElement):!1;function zs(t,e){if(!e)return;const s=new PointerEvent("pointer"+t);e(s,js(s))}class $u extends qe{constructor(){super(...arguments),this.removeStartListeners=le,this.removeEndListeners=le,this.removeAccessibleListeners=le,this.startPointerPress=(e,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=_e(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),m=!h&&!io(this.node.current,l.target)?u:d;m&&X.update(()=>m(l,c))},{passive:!(r.onTap||r.onPointerUp)}),a=_e(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ae(o,a),this.startPress(e,s)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||zs("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&X.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=ke(this.node.current,"keyup",a),zs("down",(l,c)=>{this.startPress(l,c)})},s=ke(this.node.current,"keydown",e),r=()=>{this.isPressing&&zs("cancel",(o,a)=>this.cancelPress(o,a))},i=ke(this.node.current,"blur",r);this.removeAccessibleListeners=Ae(s,i)}}startPress(e,s){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&X.postRender(()=>r(e,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!za()}cancelPress(e,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&X.postRender(()=>r(e,s))}mount(){const e=this.node.getProps(),s=_e(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ke(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ae(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cr=new WeakMap,Bs=new WeakMap,Gu=t=>{const e=cr.get(t.target);e&&e(t)},Wu=t=>{t.forEach(Gu)};function Ku({root:t,...e}){const s=t||document;Bs.has(s)||Bs.set(s,{});const r=Bs.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Wu,{root:t,...e})),r[i]}function Hu(t,e,s){const r=Ku(e);return cr.set(t,s),r.observe(t),()=>{cr.delete(t),r.unobserve(t)}}const Yu={some:0,all:1};class Xu extends qe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:o}=e,a={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Yu[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return Hu(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Zu(e,s))&&this.startObserver()}unmount(){}}function Zu({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const Qu={inView:{Feature:Xu},tap:{Feature:$u},focus:{Feature:Uu},hover:{Feature:Bu}},Ju={layout:{ProjectionNode:no,MeasureLayout:Xa}},zr=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ns=f.createContext({}),Br=typeof window<"u",ao=Br?f.useLayoutEffect:f.useEffect,oo=f.createContext({strict:!1});function eh(t,e,s,r,i){var o,a;const{visualElement:l}=f.useContext(Ns),c=f.useContext(oo),d=f.useContext(Ss),u=f.useContext(zr).reducedMotion,h=f.useRef();r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,g=f.useContext(Ya);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&th(h.current,s,i,g);const b=f.useRef(!1);f.useInsertionEffect(()=>{m&&b.current&&m.update(s,d)});const y=s[Da],v=f.useRef(!!y&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return ao(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),qr.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,y)}),v.current=!1))}),m}function th(t,e,s,r){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:lo(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&at(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function lo(t){if(t)return t.options.allowProjection!==!1?t.projection:lo(t.parent)}function sh(t,e,s){return f.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):at(s)&&(s.current=r))},[e])}function ks(t){return ys(t.animate)||yr.some(e=>Mt(t[e]))}function co(t){return!!(ks(t)||t.variants)}function rh(t,e){if(ks(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Mt(s)?s:void 0,animate:Mt(r)?r:void 0}}return t.inherit!==!1?e:{}}function nh(t){const{initial:e,animate:s}=rh(t,f.useContext(Ns));return f.useMemo(()=>({initial:e,animate:s}),[gi(e),gi(s)])}function gi(t){return Array.isArray(t)?t.join(" "):t}const xi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mt={};for(const t in xi)mt[t]={isEnabled:e=>xi[t].some(s=>!!e[s])};function ih(t){for(const e in t)mt[e]={...mt[e],...t[e]}}const ah=Symbol.for("motionComponentSymbol");function oh({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){t&&ih(t);function o(l,c){let d;const u={...f.useContext(zr),...l,layoutId:lh(l)},{isStatic:h}=u,m=nh(l),g=r(l,h);if(!h&&Br){ch();const b=dh(u);d=b.MeasureLayout,m.visualElement=eh(i,g,u,e,b.ProjectionNode)}return n.jsxs(Ns.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,s(i,l,sh(g,m.visualElement,c),g,h,m.visualElement)]})}const a=f.forwardRef(o);return a[ah]=i,a}function lh({layoutId:t}){const e=f.useContext(Ir).id;return e&&t!==void 0?e+"-"+t:t}function ch(t,e){f.useContext(oo).strict}function dh(t){const{drag:e,layout:s}=mt;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const uh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ur(t){return typeof t!="string"||t.includes("-")?!1:!!(uh.indexOf(t)>-1||/[A-Z]/u.test(t))}function uo(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in s)t.style.setProperty(o,s[o])}const ho=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mo(t,e,s,r){uo(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ho.has(i)?i:Or(i),e.attrs[i])}function fo(t,{layout:e,layoutId:s}){return et.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!cs[t]||t==="opacity")}function $r(t,e,s){var r;const{style:i}=t,o={};for(const a in i)(oe(i[a])||e.style&&oe(e.style[a])||fo(a,t)||((r=s==null?void 0:s.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function po(t,e,s){const r=$r(t,e,s);for(const i in t)if(oe(t[i])||oe(e[i])){const o=qt.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Gr(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}function hh({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:s},r,i,o){const a={latestValues:mh(r,i,o,t),renderState:e()};return s&&(a.mount=l=>s(r,l,a)),a}const go=t=>(e,s)=>{const r=f.useContext(Ns),i=f.useContext(Ss),o=()=>hh(t,e,r,i);return s?o():Gr(o)};function mh(t,e,s,r){const i={},o=r(t,{});for(const m in o)i[m]=rs(o[m]);let{initial:a,animate:l}=t;const c=ks(t),d=co(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const h=u?l:a;if(h&&typeof h!="boolean"&&!ys(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const b=xr(t,m[g]);if(b){const{transitionEnd:y,transition:v,...p}=b;for(const x in p){let w=p[x];if(Array.isArray(w)){const C=u?w.length-1:0;w=w[C]}w!==null&&(i[x]=w)}for(const x in y)i[x]=y[x]}}}return i}const Wr=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xo=()=>({...Wr(),attrs:{}}),bo=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ph=qt.length;function gh(t,e,s){let r="",i=!0;for(let o=0;o<ph;o++){const a=qt[o],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=bo(l,Tr[a]);if(!c){i=!1;const u=fh[a]||a;r+=`${u}(${d}) `}s&&(e[a]=d)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function Kr(t,e,s){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(et.has(c)){a=!0;continue}else if(oa(c)){i[c]=d;continue}else{const u=bo(d,Tr[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(e.transform||(a||s?r.transform=gh(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}function bi(t,e,s){return typeof t=="string"?t:O.transform(e+s*t)}function xh(t,e,s){const r=bi(e,t.x,t.width),i=bi(s,t.y,t.height);return`${r} ${i}`}const bh={offset:"stroke-dashoffset",array:"stroke-dasharray"},yh={offset:"strokeDashoffset",array:"strokeDasharray"};function vh(t,e,s=1,r=0,i=!0){t.pathLength=1;const o=i?bh:yh;t[o.offset]=O.transform(-r);const a=O.transform(e),l=O.transform(s);t[o.array]=`${a} ${l}`}function Hr(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Kr(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:b}=t;m.transform&&(b&&(g.transform=m.transform),delete m.transform),b&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=xh(b,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),a!==void 0&&vh(m,a,l,c,!1)}const Yr=t=>typeof t=="string"&&t.toLowerCase()==="svg",wh={useVisualState:go({scrapeMotionValuesFromProps:po,createRenderState:xo,onMount:(t,e,{renderState:s,latestValues:r})=>{X.read(()=>{try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),X.render(()=>{Hr(s,r,Yr(e.tagName),t.transformTemplate),mo(e,s)})}})},jh={useVisualState:go({scrapeMotionValuesFromProps:$r,createRenderState:Wr})};function yo(t,e,s){for(const r in e)!oe(e[r])&&!fo(r,s)&&(t[r]=e[r])}function Sh({transformTemplate:t},e){return f.useMemo(()=>{const s=Wr();return Kr(s,e,t),Object.assign({},s.vars,s.style)},[e])}function Nh(t,e){const s=t.style||{},r={};return yo(r,s,t),Object.assign(r,Sh(t,e)),r}function kh(t,e){const s={},r=Nh(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Ch=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ds(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ch.has(t)}let vo=t=>!ds(t);function Th(t){t&&(vo=e=>e.startsWith("on")?!ds(e):t(e))}try{Th(require("@emotion/is-prop-valid").default)}catch{}function Ph(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vo(i)||s===!0&&ds(i)||!e&&!ds(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Ah(t,e,s,r){const i=f.useMemo(()=>{const o=xo();return Hr(o,e,Yr(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yo(o,t.style,t),i.style={...o,...i.style}}return i}function _h(t=!1){return(s,r,i,{latestValues:o},a)=>{const c=(Ur(s)?Ah:kh)(r,o,a,s),d=Ph(r,typeof s=="string",t),u=s!==f.Fragment?{...d,...c,ref:i}:{},{children:h}=r,m=f.useMemo(()=>oe(h)?h.get():h,[h]);return f.createElement(s,{...u,children:m})}}function Eh(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Ur(r)?wh:jh,preloadedFeatures:t,useRender:_h(i),createVisualElement:e,Component:r};return oh(a)}}const dr={current:null},wo={current:!1};function Dh(){if(wo.current=!0,!!Br)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dr.current=t.matches;t.addListener(e),e()}else dr.current=!1}function Mh(t,e,s){for(const r in e){const i=e[r],o=s[r];if(oe(i))t.addValue(r,i);else if(oe(o))t.addValue(r,Rt(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Rt(a!==void 0?a:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const yi=new WeakMap,Fh=[...da,ae,Oe],Lh=t=>Fh.find(ca(t)),vi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rh{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=je.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,X.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=ks(s),this.isVariantNode=co(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&oe(g)&&g.set(c[m],!1)}}mount(e){this.current=e,yi.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),wo.current||Dh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yi.delete(this.current),this.projection&&this.projection.unmount(),Ve(this.notifyUpdate),Ve(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=et.has(e),i=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&X.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mt){const s=mt[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<vi.length;r++){const i=vi[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Mh(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Rt(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ia(i)||na(i))?i=parseFloat(i):!Lh(i)&&Oe.test(s)&&(i=ba(e,s)),this.setBaseTarget(e,oe(i)?i.get():i)),oe(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=xr(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!oe(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Vr),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class jo extends Rh{constructor(){super(...arguments),this.KeyframeResolver=ya}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}}function Vh(t){return window.getComputedStyle(t)}class Oh extends jo{constructor(){super(...arguments),this.type="html",this.renderInstance=uo}readValueFromInstance(e,s){if(et.has(s)){const r=Pr(s);return r&&r.default||0}else{const r=Vh(e),i=(oa(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Ka(e,s)}build(e,s,r){Kr(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return $r(e,s,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oe(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Ih extends jo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(et.has(s)){const r=Pr(s);return r&&r.default||0}return s=ho.has(s)?s:Or(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return po(e,s,r)}build(e,s,r){Hr(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){mo(e,s,r,i)}mount(e){this.isSVGTag=Yr(e.tagName),super.mount(e)}}const qh=(t,e)=>Ur(t)?new Ih(e):new Oh(e,{allowProjection:t!==f.Fragment}),zh=Eh({..._d,...Qu,...zu,...Ju},qh),I=Pl(zh);class Bh extends f.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Uh({children:t,isPresent:e}){const s=f.useId(),r=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=f.useContext(zr);return f.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=s;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),n.jsx(Bh,{isPresent:e,childRef:r,sizeRef:i,children:f.cloneElement(t,{ref:r})})}const $h=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const l=Gr(Gh),c=f.useId(),d=f.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),u=f.useMemo(()=>({id:c,initial:e,isPresent:s,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),o?[Math.random(),d]:[s,d]);return f.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),a==="popLayout"&&(t=n.jsx(Uh,{isPresent:s,children:t})),n.jsx(Ss.Provider,{value:u,children:t})};function Gh(){return new Map}const Ht=t=>t.key||"";function wi(t){const e=[];return f.Children.forEach(t,s=>{f.isValidElement(s)&&e.push(s)}),e}const ce=({children:t,exitBeforeEnter:e,custom:s,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=f.useMemo(()=>wi(t),[t]),c=l.map(Ht),d=f.useRef(!0),u=f.useRef(l),h=Gr(()=>new Map),[m,g]=f.useState(l),[b,y]=f.useState(l);ao(()=>{d.current=!1,u.current=l;for(let x=0;x<b.length;x++){const w=Ht(b[x]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[b,c.length,c.join("-")]);const v=[];if(l!==m){let x=[...l];for(let w=0;w<b.length;w++){const C=b[w],T=Ht(C);c.includes(T)||(x.splice(w,0,C),v.push(C))}a==="wait"&&v.length&&(x=v),y(wi(x)),g(l);return}const{forceRender:p}=f.useContext(Ir);return n.jsx(n.Fragment,{children:b.map(x=>{const w=Ht(x),C=l===b||c.includes(w),T=()=>{if(h.has(w))h.set(w,!0);else return;let D=!0;h.forEach(z=>{z||(D=!1)}),D&&(p==null||p(),y(u.current),i&&i())};return n.jsx($h,{isPresent:C,initial:!d.current||r?void 0:!1,custom:C?void 0:s,presenceAffectsLayout:o,mode:a,onExitComplete:C?void 0:T,children:x},w)})})},Ce=({onClick:t,children:e,variant:s="light",glowColor:r="none",isInteractive:i=!1,isSelected:o=!1,className:a="",...l})=>{const c="rounded-lg backdrop-blur-md transition-all",d={light:"bg-white/5",dark:"bg-space-dark/80",darker:"bg-space-darker/90"},u={none:"",blue:"shadow-neon-blue",red:"shadow-neon-red",yellow:"shadow-neon-yellow"},h=i?"cursor-pointer hover:bg-white/10":"",m=o?"bg-white/10 border-blue-400":"border-white/10";return n.jsx(I.div,{onClick:t,...l,className:`
        ${c}
        ${d[s]}
        ${u[r]}
        ${h}
        ${m}
        ${a}
      `,children:e})};function Wh({isOpen:t,onClose:e}){return n.jsx(ce,{children:t&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:n.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg mx-4 bg-space-darker rounded-lg border border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"relative p-6 border-b border-white/10 bg-gradient-to-r from-blue-500/10 to-purple-500/10",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsxs("div",{className:"relative flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-orbitron text-white",children:"Welcome to SWGOH TW Counter"}),n.jsx("button",{onClick:e,className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:n.jsx(Q,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(bl,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),n.jsx("p",{className:"text-white/80",children:"This website is a passion project, built and maintained without any profit motive. Our mission is to help SWGOH players optimize their Territory Wars strategy."})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Ui,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),n.jsx("p",{className:"text-white/80",children:"While the site is free to use, there are ongoing costs for domain hosting and database maintenance. Your support helps keep this resource available to the community."})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Wi,{className:"w-6 h-6 text-purple-400 flex-shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/80 mb-2",children:"Questions, suggestions, or feedback? I'd love to hear from you! Contact me at:"}),n.jsx("a",{href:"mailto:jbrannelid@gmail.com",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"jbrannelid@gmail.com"})]})]}),n.jsx("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:n.jsxs("a",{href:"https://www.buymeacoffee.com/jbrannelid",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-[#FFDD00] text-black hover:bg-[#FFDD00]/90 transition-all",children:[n.jsx(Bi,{className:"w-5 h-5"}),"Support the Project"]})})]}),n.jsxs("div",{className:"p-4 bg-white/5 flex items-center justify-center gap-2",children:[n.jsx(xl,{className:"w-4 h-4 text-white/40"}),n.jsx("span",{className:"text-sm text-white/40",children:"Made with love for the SWGOH community"})]})]})})})}const Kh=({isAdmin:t,onLogout:e,onAdminClick:s})=>{const[r,i]=f.useState(!1);return n.jsxs("div",{children:[n.jsx(Ce,{variant:"darker",className:"sticky top-0 z-50 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nl,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h1",{className:"text-xl font-orbitron text-white"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("a",{href:"https://www.buymeacoffee.com/jbrannelid",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[#FFDD00] hover:bg-[#FFDD00]/90 text-black transition-all",children:[n.jsx(Bi,{className:"w-5 h-5"}),"Buy Me a Coffee"]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 transition-all",children:[n.jsx(Wi,{className:"w-5 h-5"}),"Contact"]}),t?n.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-all",children:[n.jsx(Gi,{className:"w-5 h-5"}),"Logout"]}):n.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 transition-all",children:[n.jsx(Vt,{className:"w-5 h-5"}),"Admin"]})]})]})})}),n.jsx(Wh,{isOpen:r,onClose:()=>i(!1)})]})},Hh=({activeView:t,onViewChange:e,onOptionsClick:s,filters:r,children:i})=>{const o=!!(r.alignment||r.showTWOmicronOnly||r.showHardCounters||r.excludeGL);return n.jsx(Ce,{variant:"darker",className:"sticky top-0 z-30 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:i}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ce,{variant:"light",glowColor:t==="squads"?"blue":"none",isInteractive:!0,isSelected:t==="squads",onClick:()=>e("squads"),className:"flex items-center gap-2 px-6 py-2.5",whileHover:{scale:1.02},whileTap:{scale:.98},children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Squads"})]}),n.jsxs(Ce,{variant:"light",glowColor:t==="fleets"?"blue":"none",isInteractive:!0,isSelected:t==="fleets",onClick:()=>e("fleets"),className:"flex items-center gap-2 px-6 py-2.5",whileHover:{scale:1.02},whileTap:{scale:.98},children:[n.jsx(Ot,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Fleets"})]}),n.jsxs(Ce,{variant:"light",glowColor:o?"blue":"none",isInteractive:!0,isSelected:o,onClick:s,className:"flex items-center gap-2 px-6 py-2.5",whileHover:{scale:1.02},whileTap:{scale:.98},children:[n.jsx(Vt,{className:`w-5 h-5 ${o?"text-blue-400":""}`}),n.jsx("span",{className:"font-medium",children:"Filters"}),o&&n.jsx(I.div,{className:"w-2 h-2 rounded-full bg-blue-400",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}})]})]})]})})})},tt={apiKey:"AIzaSyB5RqeXVGSF0nB-3Y7hsiChamqdf7XMRv8",authDomain:"swgoh-tw-guide.firebaseapp.com",projectId:"swgoh-tw-guide",storageBucket:"swgoh-tw-guide.firebasestorage.app",messagingSenderId:"25054528199",appId:"1:25054528199:web:9154ba45e0d0b79f1ab4e2"};if(!tt.apiKey)throw new Error("Firebase API Key is missing");if(!tt.authDomain)throw new Error("Firebase Auth Domain is missing");if(!tt.projectId)throw new Error("Firebase Project ID is missing");if(!tt.storageBucket)throw new Error("Firebase Storage Bucket is missing");if(!tt.messagingSenderId)throw new Error("Firebase Messaging Sender ID is missing");if(!tt.appId)throw new Error("Firebase App ID is missing");const We=class We{constructor(){de(this,"app");de(this,"_auth");de(this,"_db");de(this,"_storage");de(this,"initialized",!1);sn().length===0?this.app=Zo(tt):this.app=sn()[0],this._auth=Qo(this.app),this._db=rn(this.app),this._storage=Jo(this.app),this.setupPersistence(),this.setupAuthStateMonitoring(),this.initialized=!0}static getInstance(){return We.instance||(We.instance=new We),We.instance}async setupPersistence(){try{this._db=rn(this.app),await el(this._db),console.log("Offline persistence enabled")}catch(e){if(e instanceof Error&&"code"in e)switch(e.code){case"failed-precondition":console.warn("Multiple tabs open, offline persistence can only be enabled in one tab at a time.");break;case"unimplemented":console.warn("The current browser does not support offline persistence.");break;default:console.error("Error enabling offline persistence:",e)}else console.error("Unknown error enabling offline persistence:",e)}}setupAuthStateMonitoring(){Li(this._auth,e=>{e?console.log("User is signed in:",e.uid):console.log("User is signed out")},e=>{console.error("Auth state change error:",e)})}connectToEmulators(){}get auth(){return this._auth}get db(){return this._db}get storage(){return this._storage}get isInitialized(){return this.initialized}async waitForInitialization(){if(!this.initialized)return new Promise(e=>{const s=setInterval(()=>{this.initialized&&(clearInterval(s),e())},100)})}};de(We,"instance");let ur=We;const Cs=ur.getInstance(),Ct=Cs.auth,ee=Cs.db,Yh=Cs.storage,Xh=()=>Cs.waitForInitialization(),Zh={triple_zero:"triplezero",fifty_rt:"50rt",arc_trooper:"trooperclone_arc",aayla_secura:"aaylasecura",admiral_ackbar:"ackbaradmiral",admiral_piett:"piett",admiral_raddus:"admiralraddus",admiral_trench:"admiraltrench",ahsoka_fulcrum:"ahsokaadult",ahsoka_snips:"ahsoka",amilyn_holdo:"holdo",asajj_ventress:"ventress",aurra_sing:"aurrasing",b1_battle_droid:"b1",b2_super_battle_droid:"b2",bb_8:"bb8",battle_droid_1:"bt1",barriss_offee:"barriss_light",bastila_shan:"bastilashan",bastila_fallen:"bastilashan_dark",baylan_skoll:"baylanskoll",baze_malbus:"bazemalbus",ben_solo:"bensolo",biggs:"rebelpilot_biggs",bistan:"bistan",bo_katan_mandalore:"mandalorbokatan",bo_katan_kryze:"bokatan",boba_fett:"bobafett",boba_fett_scion:"bobafettold",bodhi_rook:"bodhi",boss_nass:"bossnass",bossk:"bossk",boushh_leia:"boushh",c3po:"c3po",cc_2224_cody:"trooperclone_cody",ct_21_0408_echo:"trooperclone_echo",ct_5555_fives:"trooperclone_fives",ct_7567_rex:"trooperclone_rex",cad_bane:"cadbane",cal_kestis:"calkestis",canderous_ordo:"canderous",captain_drogan:"captaindrogan",captain_enoch:"captainenoch",captain_han_solo:"hoth_han",captain_phasma:"phasma",captain_rex:"captainrex",captain_tarpals:"captaintarpals",cara_dune:"caradune",carth_onasi:"carth",cassian_andor:"cassian",cera_junda:"cerejunda",chewbacca_ot:"chewbacca_ot",chief_chirpa:"ewok_chirpa",chief_nebit:"jawa_nebit",chirrut_imwe:"chirrut",chopper:"chopper",clone_sergeant:"trooperclonegreen",clone_chewbacca:"chewbacca",colonel_stark:"colonel_stark",commander_ahsoka:"commanderahsokatano",lukebespin:"lukebespin",coruscant_police:"coruscantpolice",count_dooku:"dooku",old_daka:"daka",dark_trooper:"darktrooper",dark_trooper_moff:"moffgideons3",darth_bane:"darthbane",darth_malak:"darthmalak",darth_malgus:"darthmalgus",darth_maul:"maul",darth_nihilus:"nihilus",darth_revan:"sithrevan",darth_sidious:"sidious",darth_sion:"sion",darth_talon:"darthtalon",darth_traya:"traya",darth_vader:"vader",dash_rendar:"dashrendar",dathcha:"jawa_dathcha",death_trooper_peridea:"deathtrooperperidea",death_trooper:"trooperdeath",dengar:"dengar",director_krennic:"krennic",doctor_aphra:"doctoraphra",droideka:"droideka",echo:"bb_echo",eeth_koth:"eethkoth",eighth_brother:"eighthbrother",embo:"embo",emperor_palpatine:"palpatineemperor",enfy_nest:"enfys",ewok_elder:"ewok_chief",ewok_scout:"ewok_scout",ezra_bridger:"ezra_s3",ezra_exile:"ezraexile",fennec_shand:"fennec",fifth_brother:"fifthbrother",finn:"finnjakku",fo_executioner:"firstorder_executioner",fo_officer:"firstorderofficer",fo_sf_tie_pilot:"firstorder_pilot",fo_stormtrooper:"firstordertrooper",fo_tie_pilot:"firstordertiepilot",gamorrean_guard:"gamorreanguard",gar_saxon:"gar_saxon",garazeb_zeb:"zeb_s3",general_grievous:"grievous",general_hux:"generalhux",general_kenobi:"obiwangeneral",general_skywalker:"generalanakin",general_veers:"veers",geonosian_brood_alpha:"geonosian_broodalpha",geonosian_soldier:"geonosian_soldier",geonosian_spy:"geonosian_spy",grand_admiral_thrawn:"thrawn",grand_inquisitor:"grandinquisitor",grand_master_yoda:"yodagrandmaster",grand_moff_tarkin:"tarkinadmiral",great_mothers:"greatmothers",greef_karga:"greefkarga",greedo:"greedo",gungan_bombardier:"gunganboomadier",gungan_phalanx:"gunganphalanx",hk_47:"hk47",han:"han",hera_syndulla:"hera_s3",hermit_yoda:"yodahermit",hondo_ohnaka:"hondoohnaka",hoth_rebel_scout:"rebelhothscout",hoth_rebel_soldier:"rebelhoth",hunter:"bb_hunter",ig_100_magnaguard:"magnaguard",ig_11:"ig11_nurse",ig_12_grogu:"ig12",ig_86:"ig86",ig_88:"ig88",iden_versio:"idenversioempire",ima_gun_di:"imagundi",imperial_probe_droid:"probedroid",imperial_super_commando:"imperial_super_commando",jabba_the_hutt:"jabbathehutt",jango_fett:"jangofett",jar_jar_binks:"jarjarbinks",jawa:"jawa_jawa",jawa_engineer:"jawa_engineer",jawa_scavenger:"jawa_scavenger",jedi_consular:"jedi_consular_03",jedi_knight_anakin:"anakinjedi",jedi_knight_guardian:"jedi_guardian_01",jedi_knight_cal_kestis:"jediknightcal",jedi_knight_luke:"luke_jediknight",jedi_knight_revan:"jedirevan",jedi_master_kenobi:"globiwan",jedi_master_luke:"luke_jml",jolee_bindo:"joleebindo",juhani:"juhani",jyn_erso:"jyn",k_2so:"k2so",kanan_jarrus:"kanan_s3",kelleran_beq:"kelleranbeq",ki_adi_mundi:"kiadimundi",kit_fisto:"kitfisto",krrsantan:"krrsantan",kuiil:"kuiil",kyle_katarn:"kylekatarn",kylo_ren:"kyloren",kylo_ren_unmasked:"kylo_unmasked",l3_37:"l337",lando_calrissian:"landobespin",leia_organa:"leiaendor",lobot:"lobot",logray:"ewok_logray",lord_vader:"lordvader",luke_farmboy:"luke_ep4",luminara_unduli:"luminara",luthen_rael:"luthenrael",mace_windu:"macewindu",magmatrooper:"trooperstorm_magma",mara_jade:"marajade",marrok:"marrok",master_qui_gon:"masterquigon",maul:"maul_cyborg",merrin:"merrin",mission_vao:"mission",mob_enforcer:"mob_enforcer",moff_gideon:"moffgideon",mon_mothma:"monmothma",morgan_elsbeth:"morganelsbeth",mother_talzin:"nightsisters_talzin",night_trooper:"nighttrooper_a",nightsister_acolyte:"nightsister_acolyte",nightsister_initiate:"nightsister_initiate",nightsister_spirit:"nightsisters_wraith",nightsister_zombie:"nightsisters_zombie",ninth_sister:"ninthsister",nute_gunray:"nutegunray",obi_wan_old_ben:"obiwanep4",omega:"badbatchomega",padawan_obiwan:"padawanobiwan",padawan_sabine:"padawansabine",padme_amidala:"padme_geonosis",pao:"pao",paploo:"ewok_paploo",paz_vizsla:"pazvizsla",plo_koon:"plokoon",poe_dameron:"poe",poggle_the_lesser:"geonosian_poggle",princess_kneesaa:"princesskneesaa",princess_leia:"leia_princess",qira:"qira",queen_amidala:"queenamidala",qui_gon_jinn:"quigon",r2_d2:"r2d2",range_trooper:"trooperranger",rebel_officer_leia:"leiahoth",resistance_hero_finn:"finn",resistance_hero_poe:"poe_tros",resistance_pilot:"resistancepilot",resistance_trooper:"resistancetrooper",rey_gl:"reyjakku",rey_jedi_training:"rey_tlj",rey_scavenger:"rey_tros",rose_tico:"rose",royal_guard:"royalguard",sabine_wren:"sabine_s3",sana_starros:"sanastarros",savage_opress:"savageopress",saw_gerrera:"sawgerrera",scarif_rebel_pathfinder:"rebel_scarif",scout_trooper:"trooperscout",second_sister:"secondsister",seventh_sister:"seventhsister",shaak_ti:"shaakti",shin_hati:"shinhati",shoretrooper:"troopershore",sith_assassin:"sithassassin",sith_empire_trooper:"sithtrooper",sith_eternal_emperor:"espalpatine_pre",sith_marauder:"sithmarauder",sith_trooper:"firstorder_sithtrooper",skiff_guard_lando:"undercoverlando",snowtrooper:"troopersnow",stap:"stap",starkiller:"starkiller",stormtrooper:"trooperstorm",stormtrooper_han:"trooperstorm_han",sun_fac:"geonosian_sunfac",supreme_leader_kylo:"kyloren_tros",t3_m4:"t3m4",talia:"talia",tarfful:"tarfful",taron_malicos:"taronmalicos",tech:"bb_tech",teebo:"ewok_teebo",the_armorer:"armorer",the_mandalorian:"mandalorian",the_mandalorian_beskar:"mandobeskar",third_sister:"thirdsister",chewbacca_c3po:"chewbacca_c3po",tusken_chieftain:"tuskenchieftain",tusken_raider:"tuskenraider",tusken_shaman:"tuskenshaman",tusken_warrior:"tuskenhuntress",urorrurrr:"urorrurrr",ugnaught:"ugnaught",vandor_chewbacca:"chewbacca_vandor",veteran_smuggler_han:"tfa_han",visas_marr:"visas",wampa:"wampa",wat_tambor:"wattambor",wedge_antilles:"rebelpilot_wedge",wicket:"ewok_wicket",wrecker:"bb_wrecker",young_han_solo:"han_young",young_lando:"younglando",zaalbar:"zaalbar",zam_wesell:"zamwesell",zorii_bliss:"zoriibliss"},Qh={chimaera:"chimaera",endurance:"venator",executor:"executor",executrix:"stardestroyer",finalizer:"finalizer",home_one:"moncalamarilibertycruiser",profundity:"profundity",leviathan:"leviathan",negotiator:"negotiator",malevolence:"malevolence",furyclassinterceptor:"furyclassinterceptor",ahsoka_tanos_jedi_starfighter:"jedi_fighter_ahsoka",anakins_eta2:"jedi_fighter_anakin",b28:"b28extinctionclassbomber",btl_b_y_wing:"ywing_btlb",biggs_darklighter_x_wing:"xwing_red3",bistan_u_wing:"uwing",cassians_u_wing:"uwing_hero",clone_sergeants_arc_170:"arc170",comeuppance:"comeuppance",ebon_hawk:"ebonhawk",emperors_shuttle:"imperialshuttle",first_order_sf_tie_fighter:"fosf_tie_fighter",first_order_tie_fighter:"firstorder_tiefighter",fury_class_interceptor:"furyclassinterceptor",fives_umbaran_starfighter:"umbaran_star_fighter",gauntlet_starfighter:"gauntlet",geonosian_soldier_starfighter:"geonosis_fighter_soldier",geonosian_spy_starfighter:"geonosis_fighter_spy",ghost:"ghost",hans_millennium_falcon:"mfalcon",hounds_tooth:"houndstooth",hyena_bomber:"hyenabomber",ig2000:"ig2000",imperial_tie_bomber:"tiebomber",imperial_tie_fighter:"tiefighter",jedi_consulars_starfighter:"jedi_fighter",kylo_ren_command_shuttle:"upsilon_shuttle_kylo",lando_millennium_falcon:"mil_fal_pristine",mg_100_starfortress:"mg100",marauder:"marauder",mark_v1_interceptor:"sithsupremacyclass",outrider:"outrider",phantom:"phantom2",plo_koons_jedi_starfighter:"jedi_fighter_bladeofdorin",razor_crest:"razorcrest",rexs_arc_170:"arc170_02",scimitar:"sithinfiltrator",sithsupremacyclass:"sithsupremacyclass",slave_1:"slave1",sun_facs_geonosian_starfighter:"geonosis_fighter_sunfac",tie_advanced_x1:"tieadvanced",tie_interceptor:"tie_interceptor_prototype",umbaran_starfighter:"umbaran_star_fighter",vulture_droid:"vulturedroid",xanadu_blood:"xanadublood",rebel_y_wing:"ywing"},Yt=(t,...e)=>{console.debug(`[ImageMapping] ${t}`,...e)},Ze=t=>t?t.toLowerCase().replace(/[']/g,"").replace(/[^a-z0-9_\s-]/g,"").trim().replace(/[\s-]+/g,"_"):"";function Jh(t,e){if(!t)return Yt("No ID provided for image"),"";const s=Ze(t);Yt(`Normalized ID: ${s} from ${t}`);const r=e.includes("ship")?Qh:Zh,i=r[s];return i||(Yt(`No mapping found for ID: ${t}, normalized: ${s}, type: ${e}`),Yt("Available mappings:",Object.keys(r)),s)}const em="/assets",Us="/placeholder.png",Xt=new Map,Zt=new Map,tm={xs:{width:32,height:32,containerClass:"w-8 h-8"},sm:{width:40,height:40,containerClass:"w-10 h-10"},md:{width:48,height:48,containerClass:"w-12 h-12"},lg:{width:64,height:64,containerClass:"w-16 h-16"},xl:{width:80,height:80,containerClass:"w-20 h-20"}},$s=(t,...e)=>{},ji=t=>{const{width:e,height:s}=tm[t];return`data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${s}' viewBox='0 0 ${e} ${s}'><rect width='100%' height='100%' fill='%231a1e27'/></svg>`},hr=async(t,e)=>{if(!t)return Us;const s=`${t}-${e}`;if(Xt.has(s))return Xt.get(s);if(Zt.has(s))return Zt.get(s);const r=(async()=>{try{const i=Jh(t,e);if(!i)return $s(`No mapping found for ${t} (${e})`),Us;const a=`${e.includes("ship")?"ships":"characters"}/${i}.webp`;try{const l=tl(Yh,a),c=await sl(l);return Xt.set(s,c),$s(`Successfully loaded Firebase image for ${t}`),c}catch{const c=`${em}/${a}`;return Xt.set(s,c),$s(`Using local path: ${c}`),c}}catch(i){return console.error(`Failed to load image for ${t}:`,i),Us}finally{Zt.delete(s)}})();return Zt.set(s,r),r};function So(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=So(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function No(){for(var t,e,s=0,r="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=So(t))&&(r&&(r+=" "),r+=e);return r}const Xr="-",sm=t=>{const e=nm(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Xr);return l[0]===""&&l.length!==1&&l.shift(),ko(l,e)||rm(a)},getConflictingClassGroupIds:(a,l)=>{const c=s[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},ko=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),i=r?ko(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Xr);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Si=/^\[(.+)\]$/,rm=t=>{if(Si.test(t)){const e=Si.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},nm=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return am(Object.entries(t.classGroups),s).forEach(([o,a])=>{mr(a,r,o,e)}),r},mr=(t,e,s,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Ni(e,i);o.classGroupId=s;return}if(typeof i=="function"){if(im(i)){mr(i(r),e,s,r);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([o,a])=>{mr(a,Ni(e,o),s,r)})})},Ni=(t,e)=>{let s=t;return e.split(Xr).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},im=t=>t.isThemeGetter,am=(t,e)=>e?t.map(([s,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[s,i]}):t,om=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const i=(o,a)=>{s.set(o,a),e++,e>t&&(e=0,r=s,s=new Map)};return{get(o){let a=s.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){s.has(o)?s.set(o,a):i(o,a)}}},Co="!",lm=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,i=e[0],o=e.length,a=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let p=l[v];if(d===0){if(p===i&&(r||l.slice(v,v+o)===e)){c.push(l.slice(u,v)),u=v+o;continue}if(p==="/"){h=v;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(u),g=m.startsWith(Co),b=g?m.substring(1):m,y=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:a}):a},cm=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},dm=t=>({cache:om(t.cacheSize),parseClassName:lm(t),...sm(t)}),um=/\s+/,hm=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(um);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=s(d);let b=!!g,y=r(b?m.substring(0,g):m);if(!y){if(!b){l=d+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=cm(u).join(":"),p=h?v+Co:v,x=p+y;if(o.includes(x))continue;o.push(x);const w=i(y,b);for(let C=0;C<w.length;++C){const T=w[C];o.push(p+T)}l=d+(l.length>0?" "+l:l)}return l};function mm(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=To(e))&&(r&&(r+=" "),r+=s);return r}const To=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=To(t[r]))&&(s&&(s+=" "),s+=e);return s};function fm(t,...e){let s,r,i,o=a;function a(c){const d=e.reduce((u,h)=>h(u),t());return s=dm(d),r=s.cache.get,i=s.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=hm(c,s);return i(c,u),u}return function(){return o(mm.apply(null,arguments))}}const Z=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Po=/^\[(?:([a-z-]+):)?(.+)\]$/i,pm=/^\d+\/\d+$/,gm=new Set(["px","full","screen"]),xm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ym=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ne=t=>dt(t)||gm.has(t)||pm.test(t),De=t=>gt(t,"length",Am),dt=t=>!!t&&!Number.isNaN(Number(t)),Gs=t=>gt(t,"number",dt),wt=t=>!!t&&Number.isInteger(Number(t)),jm=t=>t.endsWith("%")&&dt(t.slice(0,-1)),B=t=>Po.test(t),Me=t=>xm.test(t),Sm=new Set(["length","size","percentage"]),Nm=t=>gt(t,Sm,Ao),km=t=>gt(t,"position",Ao),Cm=new Set(["image","url"]),Tm=t=>gt(t,Cm,Em),Pm=t=>gt(t,"",_m),jt=()=>!0,gt=(t,e,s)=>{const r=Po.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Am=t=>bm.test(t)&&!ym.test(t),Ao=()=>!1,_m=t=>vm.test(t),Em=t=>wm.test(t),Dm=()=>{const t=Z("colors"),e=Z("spacing"),s=Z("blur"),r=Z("brightness"),i=Z("borderColor"),o=Z("borderRadius"),a=Z("borderSpacing"),l=Z("borderWidth"),c=Z("contrast"),d=Z("grayscale"),u=Z("hueRotate"),h=Z("invert"),m=Z("gap"),g=Z("gradientColorStops"),b=Z("gradientColorStopPositions"),y=Z("inset"),v=Z("margin"),p=Z("opacity"),x=Z("padding"),w=Z("saturate"),C=Z("scale"),T=Z("sepia"),D=Z("skew"),z=Z("space"),_=Z("translate"),$=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",B,e],M=()=>[B,e],N=()=>["",Ne,De],j=()=>["auto",dt,B],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",B],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[dt,B];return{cacheSize:500,separator:":",theme:{colors:[jt],spacing:[Ne,De],blur:["none","",Me,B],brightness:q(),borderColor:[t],borderRadius:["none","","full",Me,B],borderSpacing:M(),borderWidth:N(),contrast:q(),grayscale:S(),hueRotate:q(),invert:S(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[jm,De],inset:Y(),margin:Y(),opacity:q(),padding:M(),saturate:q(),scale:q(),sepia:S(),skew:q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[Me]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),B]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wt,B]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",wt,B]}],"grid-cols":[{"grid-cols":[jt]}],"col-start-end":[{col:["auto",{span:["full",wt,B]},B]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[jt]}],"row-start-end":[{row:["auto",{span:[wt,B]},B]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,e]}],"min-w":[{"min-w":[B,e,"min","max","fit"]}],"max-w":[{"max-w":[B,e,"none","full","min","max","fit","prose",{screen:[Me]},Me]}],h:[{h:[B,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Me,De]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gs]}],"font-family":[{font:[jt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",dt,Gs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ne,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ne,De]}],"underline-offset":[{"underline-offset":["auto",Ne,B]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),km]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Tm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ne,B]}],"outline-w":[{outline:[Ne,De]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ne,De]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Me,Pm]}],"shadow-color":[{shadow:[jt]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Me,B]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[wt,B]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ne,De,Gs]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mm=fm(Dm);function ft(...t){return Mm(No(t))}const Qt={},Fm={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},K=f.memo(({id:t,name:e,type:s,size:r="md",className:i="",withTooltip:o=!0,isLeader:a=!1,isCapital:l=!1,onLoad:c})=>{const[d,u]=f.useState(()=>Qt[t]||ji(r)),[h,m]=f.useState(!0),[g,b]=f.useState(!1),y=f.useMemo(()=>Fm[r],[r]);return f.useEffect(()=>{let v=!0;return(async()=>{if(Qt[t]){u(Qt[t]),m(!1);return}try{const x=await hr(t,s);v&&(Qt[t]=x,u(x),b(!1))}catch(x){v&&(console.error(`Error loading image for ${t}:`,x),b(!0))}finally{v&&m(!1)}})(),()=>{v=!1}},[t,s]),n.jsxs("div",{className:ft("relative","transition-all duration-300 ease-out",y,i),children:[n.jsx("img",{src:d,alt:e,className:ft("w-full h-full","object-cover rounded-full","transition-opacity duration-300",h?"opacity-0":"opacity-100",g?"grayscale opacity-50":""),onLoad:c,onError:()=>{b(!0),u(ji(r))}}),(a||l)&&n.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full \r
                   flex items-center justify-center text-white text-xs font-bold\r
                   shadow-md`,children:a?"L":"C"}),o&&n.jsx("div",{className:`absolute -bottom-6 left-1/2 transform -translate-x-1/2 \r
                     bg-black/90 px-2 py-1 rounded text-xs text-white whitespace-nowrap \r
                     opacity-0 group-hover:opacity-100 transition-opacity z-10`,children:e})]})});K.displayName="UnitImage";const _o=({videoUrl:t})=>{const e=s=>{s.stopPropagation(),window.open(t,"_blank")};return n.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-2 py-1 rounded-full bg-red-500/20 text-red-400 \r
                 hover:bg-red-500/30 transition-colors text-sm`,children:[n.jsx(Ki,{className:"w-4 h-4"}),"  ",n.jsx("span",{children:"Watch Guide"})]})},Lm=f.createContext(null),Ws={didCatch:!1,error:null};let Eo=class extends f.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ws}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var s,r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];(s=(r=this.props).onReset)===null||s===void 0||s.call(r,{args:o,reason:"imperative-api"}),this.setState(Ws)}}componentDidCatch(e,s){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,s)}componentDidUpdate(e,s){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&s.error!==null&&Rm(e.resetKeys,i)){var o,a;(o=(a=this.props).onReset)===null||o===void 0||o.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(Ws)}}render(){const{children:e,fallbackRender:s,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:a}=this.state;let l=e;if(o){const c={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")l=s(c);else if(r)l=f.createElement(r,c);else if(i!==void 0)l=i;else throw a}return f.createElement(Lm.Provider,{value:{didCatch:o,error:a,resetErrorBoundary:this.resetErrorBoundary}},l)}};function Rm(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((s,r)=>!Object.is(s,e[r]))}const Do=f.memo(({squad:t,isSelected:e,onSelect:s,counters:r,isAdmin:i,onDeleteCounter:o,onViewDetails:a,isFiltered:l=!1})=>(console.log("Rendering SquadCard:",{name:t.name,characters:t.characters,leader:t.leader,counters:r.length}),n.jsx(Eo,{fallback:n.jsx(Ce,{variant:"dark",className:"p-4",children:n.jsx("div",{className:"text-red-400",children:"Error loading squad card"})}),children:n.jsx("div",{onClick:()=>s(),children:n.jsx(Ce,{variant:"dark",glowColor:t.alignment==="light"?"blue":"red",isSelected:e,className:`transition-all duration-300 ease-out hover:scale-[1.01] ${l?"opacity-100":"opacity-50"}`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-orbitron text-white flex items-center gap-2",children:[n.jsx(bs,{className:"w-5 h-5 text-blue-400"}),t.name]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs
                    ${t.alignment==="light"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:t.alignment==="light"?"Light Side":"Dark Side"}),t.twOmicronRequired&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-purple-500/20 text-purple-400",children:"TW Omicron"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[a&&n.jsx("button",{onClick:c=>{c.stopPropagation(),a()},className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg",children:n.jsx($i,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:e?n.jsx(zi,{className:"w-4 h-4"}):n.jsx(qi,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[t.leader&&n.jsx("div",{className:"relative group",children:n.jsx(K,{id:t.leader.id,name:t.leader.name,type:"squad-leader",size:"md",className:"rounded-full border-2 border-blue-400",withTooltip:!0,isLeader:!0})}),t.characters.map(c=>n.jsx("div",{className:"relative group",children:n.jsx(K,{id:c.id,name:c.name,type:"squad-member",size:"md",className:"rounded-full border-2 border-white/20",withTooltip:!0})},c.id))]}),n.jsx(ce,{children:e&&r.length>0&&n.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-6 space-y-4 overflow-hidden",children:[n.jsx("h4",{className:"text-lg font-medium text-white",children:"Counters"}),r.map(c=>{var d;return n.jsxs("div",{className:"p-4 bg-white/5 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs
                            ${c.counterType==="hard"?"bg-green-500/20 text-green-400":c.counterType==="soft"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:c.counterType.charAt(0).toUpperCase()+c.counterType.slice(1)}),c.twOmicronRequired&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-purple-500/20 text-purple-400",children:"TW Omni"}),c.video_url&&n.jsx(_o,{videoUrl:c.video_url})]}),i&&o&&n.jsx("button",{onClick:()=>o(c.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",children:n.jsx(It,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"mt-2 text-white/70",children:c.description}),((d=c.requirements)==null?void 0:d.length)>0&&n.jsx("div",{className:"mt-3",children:n.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-1",children:"Mod Requirements"}),c.requirements.filter(u=>u.type==="mods").map((u,h)=>n.jsx("div",{className:"text-sm text-white/70",children:u.description},h))]})}),"characters"in c.counterSquad&&n.jsxs("div",{className:"flex items-center gap-2",children:[c.counterSquad.leader&&n.jsx(K,{id:c.counterSquad.leader.id,name:c.counterSquad.leader.name,type:"squad-leader",size:"sm",className:"border-2 border-blue-400"}),c.counterSquad.characters.map(u=>n.jsx(K,{id:u.id,name:u.name,type:"squad-member",size:"sm",className:"border-2 border-white/20"},u.id))]})]},c.id)})]})})]})})})})));Do.displayName="SquadCard";class Ut extends Xo.Component{constructor(s){super(s);de(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){var s;return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-[200px] flex items-center justify-center",children:n.jsx("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20 max-w-md w-full",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Je,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-4",children:((s=this.state.error)==null?void 0:s.message)||"An unexpected error occurred"}),n.jsxs("button",{onClick:this.handleReset,className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                           bg-red-500/20 text-red-400 hover:bg-red-500/30 \r
                           transition-colors`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Try Again"]})]})]})})}):this.props.children}}const Vm=({squads:t,filteredSquads:e,selectedSquadId:s,onSelectSquad:r,getCounters:i,isAdmin:o,onDeleteCounter:a,onViewDetails:l})=>{const c=u=>{r(s===u?null:u)},d=f.useMemo(()=>e.map(u=>n.jsx(I.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(Do,{squad:u,isSelected:s===u.id,onSelect:()=>c(u.id),counters:i(u.id),isFiltered:!0,isAdmin:o,onDeleteCounter:a,onViewDetails:l})},u.id)),[e,s,i,o,a,l]);return!t||t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-white/60",children:[n.jsx(bs,{className:"w-12 h-12 mb-4 animate-float"}),n.jsx("p",{className:"text-lg",children:"No squads found"})]}):n.jsx(Ut,{fallback:n.jsx("div",{className:"flex flex-col items-center justify-center p-8",children:n.jsxs("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Failed to load squads"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-4",children:"Please try refreshing the page"}),n.jsxs("button",{onClick:()=>window.location.reload(),className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                       bg-red-500/20 text-red-400 hover:bg-red-500/30`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Refresh"]})]})}),children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(ce,{mode:"popLayout",children:d})})})},Mo=f.memo(({fleet:t,isSelected:e,onSelect:s,counters:r,isAdmin:i,onDeleteCounter:o,onViewDetails:a,isFiltered:l=!1,onAddCounter:c})=>{console.log("Rendering FleetCard:",{name:t.name,startingLineup:t.startingLineup,capitalShip:t.capitalShip,counters:r.length});const d=r.filter(u=>{var b;const h=u.targetSquad.id===t.id,m=u.counterSquad.id===t.id,g="capitalShip"in u.targetSquad&&((b=u.targetSquad.capitalShip)==null?void 0:b.id)===t.id;return h||m||g});return n.jsx(Eo,{fallback:n.jsx(Ce,{variant:"dark",className:"p-4",children:n.jsx("div",{className:"text-red-400",children:"Error loading fleet card"})}),children:n.jsx(Ce,{variant:"dark",glowColor:t.alignment==="light"?"blue":"red",isInteractive:!0,isSelected:e,onClick:()=>{s()},className:`transition-all duration-300 ease-out hover:scale-[1.01] ${l?"opacity-100":"opacity-50"}`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-orbitron text-white flex items-center gap-2",children:[n.jsx(Ot,{className:"w-5 h-5 text-blue-400"}),t.name]}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs
                  ${t.alignment==="light"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:t.alignment==="light"?"Light Side":"Dark Side"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[a&&n.jsx("button",{onClick:u=>{u.stopPropagation(),a()},className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg",children:n.jsx($i,{className:"w-4 h-4"})}),n.jsx("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),s()},className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:e?n.jsx(zi,{className:"w-4 h-4"}):n.jsx(qi,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[t.capitalShip&&n.jsx(K,{id:t.capitalShip.id,name:t.capitalShip.name,type:"capital-ship",size:"md",className:"rounded-full border-2 border-blue-400",withTooltip:!0,isCapital:!0}),t.startingLineup.map(u=>n.jsx(K,{id:u.id,name:u.name,type:"ship",size:"md",className:"rounded-full border-2 border-white/20",withTooltip:!0},u.id)),t.reinforcements.map(u=>n.jsx("div",{className:"relative group opacity-75",children:n.jsx("div",{className:"relative",children:n.jsx(K,{id:u.id,name:u.name,type:"ship",size:"md",className:"rounded-full border-2 border-white/20",withTooltip:!0})})},u.id))]}),t.callOrder&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-1",children:"Call Order"}),n.jsx("p",{className:"text-sm text-white/70",children:t.callOrder})]}),n.jsx(ce,{children:e&&d.length>0&&n.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-6 space-y-4 overflow-hidden",children:[n.jsx("h4",{className:"text-lg font-medium text-white",children:"Counters"}),d.map(u=>n.jsxs("div",{className:"p-4 bg-white/5 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs
                          ${u.counterType==="hard"?"bg-green-500/20 text-green-400":u.counterType==="soft"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:u.counterType.charAt(0).toUpperCase()+u.counterType.slice(1)}),u.video_url&&n.jsx(_o,{videoUrl:u.video_url})]}),i&&o&&n.jsx("button",{onClick:()=>o(u.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",children:n.jsx(It,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-white/70",children:u.description}),"capitalShip"in u.counterSquad&&n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.counterSquad.capitalShip&&n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:u.counterSquad.capitalShip.id,name:u.counterSquad.capitalShip.name,type:"capital-ship",size:"sm",className:"border-2 border-blue-400"}),n.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full \r
                       flex items-center justify-center text-white text-xs`,children:"C"})]}),u.counterSquad.startingLineup.map(h=>n.jsx(K,{id:h.id,name:h.name,type:"ship",size:"sm",className:"border-2 border-white/20"},h.id)),u.counterSquad.reinforcements.map(h=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:h.id,name:h.name,type:"ship",size:"sm",className:"border-2 border-white/20 opacity-75"}),n.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full \r
                       flex items-center justify-center text-white text-xs`,children:"R"})]},h.id))]})}),u.strategy.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-white/80",children:"Strategy:"}),n.jsx("div",{className:"space-y-3",children:u.strategy.map((h,m)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("span",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-blue-500/20 text-blue-400 \r
                                            flex items-center justify-center text-sm`,children:m+1}),n.jsx("p",{className:"text-sm text-white/70",children:h.description})]},h.key))})]})]},u.id))]})}),i&&c&&n.jsx("button",{onClick:u=>{u.stopPropagation(),c(t)},className:"p-2 text-green-400 hover:bg-green-400/10 rounded-lg",children:n.jsx(Re,{className:"w-4 h-4"})})]})})})});Mo.displayName="FleetCard";const Om=({fleets:t,filteredFleets:e,selectedFleetId:s,onSelectFleet:r,getCounters:i,isAdmin:o,onDeleteCounter:a,onViewDetails:l})=>{const c=d=>{r(s===d?null:d)};return!t||t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-white/60",children:[n.jsx(Ot,{className:"w-12 h-12 mb-4 animate-float"}),n.jsx("p",{className:"text-lg",children:"No fleets found"})]}):n.jsx(Ut,{fallback:n.jsx("div",{className:"flex flex-col items-center justify-center p-8",children:n.jsxs("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Failed to load fleets"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-4",children:"Please try refreshing the page"}),n.jsxs("button",{onClick:()=>window.location.reload(),className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                       bg-red-500/20 text-red-400 hover:bg-red-500/30`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Refresh"]})]})}),children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.jsx(ce,{mode:"popLayout",children:e.map(d=>n.jsx(I.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(Mo,{fleet:d,isSelected:s===d.id,onSelect:()=>c(d.id),counters:i(d.id),isFiltered:!0,isAdmin:o,onDeleteCounter:a,onViewDetails:l})},d.id))})})})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],us=Fo.join(","),Lo=typeof Element>"u",Qe=Lo?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hs=!Lo&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ms=function t(e,s){var r;s===void 0&&(s=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",a=o||s&&e&&t(e.parentNode);return a},Im=function(e){var s,r=e==null||(s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"contenteditable");return r===""||r==="true"},Ro=function(e,s,r){if(ms(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(us));return s&&Qe.call(e,us)&&i.unshift(e),i=i.filter(r),i},Vo=function t(e,s,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!ms(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),c=l.length?l:a.children,d=t(c,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else{var u=Qe.call(a,us);u&&r.filter(a)&&(s||!e.includes(a))&&i.push(a);var h=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),m=!ms(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(h&&m){var g=t(h===!0?a.children:h.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:a,candidates:g})}else o.unshift.apply(o,a.children)}}return i},Oo=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ge=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Im(e))&&!Oo(e)?0:e.tabIndex},qm=function(e,s){var r=Ge(e);return r<0&&s&&!Oo(e)?0:r},zm=function(e,s){return e.tabIndex===s.tabIndex?e.documentOrder-s.documentOrder:e.tabIndex-s.tabIndex},Io=function(e){return e.tagName==="INPUT"},Bm=function(e){return Io(e)&&e.type==="hidden"},Um=function(e){var s=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return s},$m=function(e,s){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===s)return e[r]},Gm=function(e){if(!e.name)return!0;var s=e.form||hs(e),r=function(l){return s.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=$m(i,e.form);return!o||o===e},Wm=function(e){return Io(e)&&e.type==="radio"},Km=function(e){return Wm(e)&&!Gm(e)},Hm=function(e){var s,r=e&&hs(e),i=(s=r)===null||s===void 0?void 0:s.host,o=!1;if(r&&r!==e){var a,l,c;for(o=!!((a=i)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!o&&i;){var d,u,h;r=hs(i),i=(d=r)===null||d===void 0?void 0:d.host,o=!!((u=i)!==null&&u!==void 0&&(h=u.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return o},ki=function(e){var s=e.getBoundingClientRect(),r=s.width,i=s.height;return r===0&&i===0},Ym=function(e,s){var r=s.displayCheck,i=s.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Qe.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(Qe.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,d=hs(e);if(c&&!c.shadowRoot&&i(c)===!0)return ki(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(Hm(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ki(e);return!1},Xm=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var s=e.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var r=0;r<s.children.length;r++){var i=s.children.item(r);if(i.tagName==="LEGEND")return Qe.call(s,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}s=s.parentElement}return!1},fs=function(e,s){return!(s.disabled||ms(s)||Bm(s)||Ym(s,e)||Um(s)||Xm(s))},fr=function(e,s){return!(Km(s)||Ge(s)<0||!fs(e,s))},Zm=function(e){var s=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},Qm=function t(e){var s=[],r=[];return e.forEach(function(i,o){var a=!!i.scopeParent,l=a?i.scopeParent:i,c=qm(l,a),d=a?t(i.candidates):l;c===0?a?s.push.apply(s,d):s.push(l):r.push({documentOrder:o,tabIndex:c,item:i,isScope:a,content:d})}),r.sort(zm).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(s)},Jm=function(e,s){s=s||{};var r;return s.getShadowRoot?r=Vo([e],s.includeContainer,{filter:fr.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:Zm}):r=Ro(e,s.includeContainer,fr.bind(null,s)),Qm(r)},ef=function(e,s){s=s||{};var r;return s.getShadowRoot?r=Vo([e],s.includeContainer,{filter:fs.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):r=Ro(e,s.includeContainer,fs.bind(null,s)),r},rt=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return Qe.call(e,us)===!1?!1:fr(s,e)},tf=Fo.concat("iframe").join(","),Ks=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return Qe.call(e,tf)===!1?!1:fs(s,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function pr(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=Array(e);s<e;s++)r[s]=t[s];return r}function sf(t){if(Array.isArray(t))return pr(t)}function rf(t,e,s){return(e=cf(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function nf(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function af(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ci(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function Ti(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ci(Object(s),!0).forEach(function(r){rf(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ci(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function of(t){return sf(t)||nf(t)||df(t)||af()}function lf(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cf(t){var e=lf(t,"string");return typeof e=="symbol"?e:e+""}function df(t,e){if(t){if(typeof t=="string")return pr(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?pr(t,e):void 0}}var Pi={activateTrap:function(e,s){if(e.length>0){var r=e[e.length-1];r!==s&&r.pause()}var i=e.indexOf(s);i===-1||e.splice(i,1),e.push(s)},deactivateTrap:function(e,s){var r=e.indexOf(s);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},uf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},hf=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},_t=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},mf=function(e){return _t(e)&&!e.shiftKey},ff=function(e){return _t(e)&&e.shiftKey},Ai=function(e){return setTimeout(e,0)},St=function(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Jt=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},pf=[],gf=function(e,s){var r=(s==null?void 0:s.document)||document,i=(s==null?void 0:s.trapStack)||pf,o=Ti({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:mf,isKeyBackward:ff},s),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,c=function(N,j,k){return N&&N[j]!==void 0?N[j]:o[k||j]},d=function(N,j){var k=typeof(j==null?void 0:j.composedPath)=="function"?j.composedPath():void 0;return a.containerGroups.findIndex(function(V){var E=V.container,L=V.tabbableNodes;return E.contains(N)||(k==null?void 0:k.includes(E))||L.find(function(S){return S===N})})},u=function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=j.hasFallback,V=k===void 0?!1:k,E=j.params,L=E===void 0?[]:E,S=o[N];if(typeof S=="function"&&(S=S.apply(void 0,of(L))),S===!0&&(S=void 0),!S){if(S===void 0||S===!1)return S;throw new Error("`".concat(N,"` was specified but was not a node, or did not return a node"))}var F=S;if(typeof S=="string"){try{F=r.querySelector(S)}catch(q){throw new Error("`".concat(N,'` appears to be an invalid selector; error="').concat(q.message,'"'))}if(!F&&!V)throw new Error("`".concat(N,"` as selector refers to no known node"))}return F},h=function(){var N=u("initialFocus",{hasFallback:!0});if(N===!1)return!1;if(N===void 0||N&&!Ks(N,o.tabbableOptions))if(d(r.activeElement)>=0)N=r.activeElement;else{var j=a.tabbableGroups[0],k=j&&j.firstTabbableNode;N=k||u("fallbackFocus")}else N===null&&(N=u("fallbackFocus"));if(!N)throw new Error("Your focus-trap needs to have at least one focusable element");return N},m=function(){if(a.containerGroups=a.containers.map(function(N){var j=Jm(N,o.tabbableOptions),k=ef(N,o.tabbableOptions),V=j.length>0?j[0]:void 0,E=j.length>0?j[j.length-1]:void 0,L=k.find(function(q){return rt(q)}),S=k.slice().reverse().find(function(q){return rt(q)}),F=!!j.find(function(q){return Ge(q)>0});return{container:N,tabbableNodes:j,focusableNodes:k,posTabIndexesFound:F,firstTabbableNode:V,lastTabbableNode:E,firstDomTabbableNode:L,lastDomTabbableNode:S,nextTabbableNode:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=j.indexOf(P);return R<0?A?k.slice(k.indexOf(P)+1).find(function(H){return rt(H)}):k.slice(0,k.indexOf(P)).reverse().find(function(H){return rt(H)}):j[R+(A?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(N){return N.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(N){return N.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},g=function(N){var j=N.activeElement;if(j)return j.shadowRoot&&j.shadowRoot.activeElement!==null?g(j.shadowRoot):j},b=function(N){if(N!==!1&&N!==g(document)){if(!N||!N.focus){b(h());return}N.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=N,uf(N)&&N.select()}},y=function(N){var j=u("setReturnFocus",{params:[N]});return j||(j===!1?!1:N)},v=function(N){var j=N.target,k=N.event,V=N.isBackward,E=V===void 0?!1:V;j=j||Jt(k),m();var L=null;if(a.tabbableGroups.length>0){var S=d(j,k),F=S>=0?a.containerGroups[S]:void 0;if(S<0)E?L=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:L=a.tabbableGroups[0].firstTabbableNode;else if(E){var q=a.tabbableGroups.findIndex(function(Se){var ze=Se.firstTabbableNode;return j===ze});if(q<0&&(F.container===j||Ks(j,o.tabbableOptions)&&!rt(j,o.tabbableOptions)&&!F.nextTabbableNode(j,!1))&&(q=S),q>=0){var P=q===0?a.tabbableGroups.length-1:q-1,A=a.tabbableGroups[P];L=Ge(j)>=0?A.lastTabbableNode:A.lastDomTabbableNode}else _t(k)||(L=F.nextTabbableNode(j,!1))}else{var R=a.tabbableGroups.findIndex(function(Se){var ze=Se.lastTabbableNode;return j===ze});if(R<0&&(F.container===j||Ks(j,o.tabbableOptions)&&!rt(j,o.tabbableOptions)&&!F.nextTabbableNode(j))&&(R=S),R>=0){var H=R===a.tabbableGroups.length-1?0:R+1,ye=a.tabbableGroups[H];L=Ge(j)>=0?ye.firstTabbableNode:ye.firstDomTabbableNode}else _t(k)||(L=F.nextTabbableNode(j))}}else L=u("fallbackFocus");return L},p=function(N){var j=Jt(N);if(!(d(j,N)>=0)){if(St(o.clickOutsideDeactivates,N)){l.deactivate({returnFocus:o.returnFocusOnDeactivate});return}St(o.allowOutsideClick,N)||N.preventDefault()}},x=function(N){var j=Jt(N),k=d(j,N)>=0;if(k||j instanceof Document)k&&(a.mostRecentlyFocusedNode=j);else{N.stopImmediatePropagation();var V,E=!0;if(a.mostRecentlyFocusedNode)if(Ge(a.mostRecentlyFocusedNode)>0){var L=d(a.mostRecentlyFocusedNode),S=a.containerGroups[L].tabbableNodes;if(S.length>0){var F=S.findIndex(function(q){return q===a.mostRecentlyFocusedNode});F>=0&&(o.isKeyForward(a.recentNavEvent)?F+1<S.length&&(V=S[F+1],E=!1):F-1>=0&&(V=S[F-1],E=!1))}}else a.containerGroups.some(function(q){return q.tabbableNodes.some(function(P){return Ge(P)>0})})||(E=!1);else E=!1;E&&(V=v({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),b(V||a.mostRecentlyFocusedNode||h())}a.recentNavEvent=void 0},w=function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=N;var k=v({event:N,isBackward:j});k&&(_t(N)&&N.preventDefault(),b(k))},C=function(N){(o.isKeyForward(N)||o.isKeyBackward(N))&&w(N,o.isKeyBackward(N))},T=function(N){hf(N)&&St(o.escapeDeactivates,N)!==!1&&(N.preventDefault(),l.deactivate())},D=function(N){var j=Jt(N);d(j,N)>=0||St(o.clickOutsideDeactivates,N)||St(o.allowOutsideClick,N)||(N.preventDefault(),N.stopImmediatePropagation())},z=function(){if(a.active)return Pi.activateTrap(i,l),a.delayInitialFocusTimer=o.delayInitialFocus?Ai(function(){b(h())}):b(h()),r.addEventListener("focusin",x,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",D,{capture:!0,passive:!1}),r.addEventListener("keydown",C,{capture:!0,passive:!1}),r.addEventListener("keydown",T),l},_=function(){if(a.active)return r.removeEventListener("focusin",x,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",D,!0),r.removeEventListener("keydown",C,!0),r.removeEventListener("keydown",T),l},$=function(N){var j=N.some(function(k){var V=Array.from(k.removedNodes);return V.some(function(E){return E===a.mostRecentlyFocusedNode})});j&&b(h())},U=typeof window<"u"&&"MutationObserver"in window?new MutationObserver($):void 0,Y=function(){U&&(U.disconnect(),a.active&&!a.paused&&a.containers.map(function(N){U.observe(N,{subtree:!0,childList:!0})}))};return l={get active(){return a.active},get paused(){return a.paused},activate:function(N){if(a.active)return this;var j=c(N,"onActivate"),k=c(N,"onPostActivate"),V=c(N,"checkCanFocusTrap");V||m(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,j==null||j();var E=function(){V&&m(),z(),Y(),k==null||k()};return V?(V(a.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(N){if(!a.active)return this;var j=Ti({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},N);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,_(),a.active=!1,a.paused=!1,Y(),Pi.deactivateTrap(i,l);var k=c(j,"onDeactivate"),V=c(j,"onPostDeactivate"),E=c(j,"checkCanReturnFocus"),L=c(j,"returnFocus","returnFocusOnDeactivate");k==null||k();var S=function(){Ai(function(){L&&b(y(a.nodeFocusedBeforeActivation)),V==null||V()})};return L&&E?(E(y(a.nodeFocusedBeforeActivation)).then(S,S),this):(S(),this)},pause:function(N){if(a.paused||!a.active)return this;var j=c(N,"onPause"),k=c(N,"onPostPause");return a.paused=!0,j==null||j(),_(),Y(),k==null||k(),this},unpause:function(N){if(!a.paused||!a.active)return this;var j=c(N,"onUnpause"),k=c(N,"onPostUnpause");return a.paused=!1,j==null||j(),m(),z(),Y(),k==null||k(),this},updateContainerElements:function(N){var j=[].concat(N).filter(Boolean);return a.containers=j.map(function(k){return typeof k=="string"?r.querySelector(k):k}),a.active&&m(),Y(),this}},l.updateContainerElements(e),l};const xf=({isOpen:t,onClose:e,filters:s,onFilterChange:r})=>{const i=f.useRef(null),o=Object.entries(s).some(([d,u])=>d==="searchTerm"?!1:typeof u=="boolean"?u:u!==null),a=f.useMemo(()=>[{title:"Battle Type",options:[{key:"battleType",value:"team",label:"Squads",icon:n.jsx(Cl,{className:"w-4 h-4"})},{key:"battleType",value:"fleet",label:"Fleets",icon:n.jsx(gr,{className:"w-4 h-4"})}]},{title:"Alignment",options:[{key:"alignment",value:"light",label:"Light Side",icon:n.jsx(kl,{className:"w-4 h-4"})},{key:"alignment",value:"dark",label:"Dark Side",icon:n.jsx(wl,{className:"w-4 h-4"})}]}],[]),l=[{key:"showTWOmicronOnly",label:"TW Omicron Only",description:"Show only teams with Territory Wars Omicron abilities"},{key:"showHardCounters",label:"Hard Counters Only",description:"Show only teams with reliable counter options"},{key:"excludeGL",label:"Exclude Galactic Legends",description:"Hide teams with Galactic Legend characters"}];f.useEffect(()=>{if(t&&i.current){const d=gf(i.current,{escapeDeactivates:!0,allowOutsideClick:!0});return d.activate(),()=>{d.deactivate()}}},[t]);const c=()=>{r("battleType",null),r("alignment",null),r("showTWOmicronOnly",!1),r("showHardCounters",!1),r("excludeGL",!1)};return n.jsx(I.div,{initial:{opacity:0},animate:{opacity:t?1:0},exit:{opacity:0},transition:{duration:.2},className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 ${!t&&"pointer-events-none"}`,children:n.jsxs(I.div,{ref:i,initial:{x:"100%",opacity:0},animate:{x:t?0:"100%",opacity:t?1:0},transition:{type:"spring",stiffness:300,damping:30},className:`fixed inset-y-0 right-0 w-full max-w-md bg-gradient-to-br \r
                 from-space-darker/90 to-space-dark/90 backdrop-blur-xl\r
                 border-l border-white/10 shadow-2xl rounded-l-2xl\r
                 overflow-hidden z-50`,children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gl,{className:`w-5 h-5 ${o?"text-blue-400":"text-white/60"}`}),n.jsx("h2",{className:"text-xl font-orbitron text-white",children:"Filters"})]}),n.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:`p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg \r
                     transition-colors`,children:n.jsx(Q,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"h-[calc(100vh-80px)] overflow-y-auto custom-scrollbar",children:n.jsxs("div",{className:"p-6 space-y-8",children:[a.map(d=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-white/60",children:d.title}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.options.map(u=>n.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(u.key,s[u.key]===u.value?null:u.value),className:`flex items-center justify-center gap-2 p-3 rounded-lg border 
                              transition-all ${s[u.key]===u.value?"bg-blue-500/20 border-blue-400 text-white shadow-neon-blue":"border-white/10 text-white/60 hover:bg-white/5"}`,children:[u.icon,u.label]},u.value))})]},d.title)),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-white/60",children:"Additional Options"}),l.map(d=>n.jsxs(I.label,{whileHover:{scale:1.01},className:`flex items-start gap-3 p-4 rounded-lg border border-white/10 \r
                           hover:bg-white/5 cursor-pointer group`,children:[n.jsx("input",{type:"checkbox",checked:s[d.key],onChange:u=>r(d.key,u.target.checked),className:`mt-1 w-4 h-4 rounded border-white/20 bg-white/5 checked:bg-blue-500 \r
                             checked:border-blue-500 transition-colors`}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-white group-hover:text-blue-400 transition-colors",children:d.label}),n.jsx("div",{className:"text-sm text-white/40",children:d.description})]})]},d.key))]})]})}),n.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-6 border-t border-white/10 \r
                      bg-space-darker/90 backdrop-blur-xl`,children:n.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:!o,className:`flex items-center justify-center gap-2 w-full p-3 rounded-lg \r
                     bg-white/5 text-white hover:bg-white/10 disabled:opacity-50 \r
                     disabled:cursor-not-allowed transition-colors`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Reset All Filters"]})})]})})},bf="modulepreload",yf=function(t){return"/"+t},_i={},vf=function(e,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=yf(c),c in _i)return;_i[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":bf,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Ei=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Di=No,wf=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return Di(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=o==null?void 0:o[d];if(u===null)return null;const m=Ei(u)||Ei(h);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...g}=u;return Object.entries(g).every(b=>{let[y,v]=b;return Array.isArray(v)?v.includes({...o,...l}[y]):{...o,...l}[y]===v})?[...d,h,m]:d},[]);return Di(t,a,c,s==null?void 0:s.class,s==null?void 0:s.className)},jf=wf("relative w-full rounded-lg border border-gray-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-gray-950 dark:border-gray-800 dark:[&>svg]:text-gray-50",{variants:{variant:{default:"bg-white text-gray-950 dark:bg-gray-950 dark:text-gray-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),pe=f.forwardRef(({className:t,variant:e,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:ft(jf({variant:e}),t),...s}));pe.displayName="Alert";const ge=f.forwardRef(({className:t,...e},s)=>n.jsx("h5",{ref:s,className:ft("mb-1 font-medium leading-none tracking-tight",t),...e}));ge.displayName="AlertTitle";const xe=f.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ft("text-sm [&_p]:leading-relaxed",t),...e}));xe.displayName="AlertDescription";function Zr({type:t,isOpen:e,onClose:s,onSelect:r,availableUnits:i,alignment:o,selectionType:a,title:l="Select Unit",isCounterContext:c}){const[d,u]=f.useState(""),h=f.useMemo(()=>i!=null&&i.length?i.filter(g=>{const b=!d||g.name.toLowerCase().includes(d.toLowerCase());if(t==="ship"){const y=g;if(c||a==="capital")return b&&y.isCapital}return b}):[],[i,d,o,t,a,c]);f.useEffect(()=>{var g;console.log("UnitSelector mounted/updated:",{type:t,alignment:o,availableUnitsCount:i.length,selectionType:a,firstUnitName:(g=i[0])==null?void 0:g.name,filteredCount:h.length})},[t,o,i,a,h]),f.useEffect(()=>{console.log("Available Units:",i)},[i]);const m=f.useCallback(g=>{r(g)},[r]);return n.jsx(ce,{children:e&&n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center",onClick:s,children:n.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-md bg-space-darker rounded-lg border border-white/10",onClick:g=>g.stopPropagation(),children:[n.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:l}),n.jsx("button",{onClick:s,className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:n.jsx(Q,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(xs,{className:"absolute left-3 top-2.5 w-4 h-4 text-white/40"}),n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),className:`w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg \r
                         text-white placeholder-white/40`,placeholder:`Search ${t}s...`,autoFocus:!0})]}),n.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:h.length>0?h.map(g=>n.jsxs(I.button,{onClick:()=>m(g),className:`w-full flex items-center gap-3 p-2 hover:bg-white/5 rounded-lg \r
                               text-left transition-colors`,whileHover:{x:4},children:[n.jsx(K,{id:g.id,name:g.name,type:t==="character"?a==="leader"?"squad-leader":"squad-member":a==="capital"?"capital-ship":"ship",size:"sm",className:"rounded-full border-2 border-blue-500/50",isLeader:a==="leader",isCapital:a==="capital"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white",children:g.name}),"role"in g&&n.jsx("div",{className:"text-sm text-white/60",children:g.role}),"isCapital"in g&&g.isCapital&&n.jsx("div",{className:"text-sm text-blue-400",children:"Capital Ship"})]})]},g.id)):n.jsx("div",{className:"text-center text-white/60 py-4",children:d.trim()?`No ${t}s found matching "${d}"`:`No ${t}s available`})})})]})]})})})}const Sf=({videoUrl:t,title:e,autoplay:s=!1})=>{const[r,i]=f.useState(!1),[o,a]=f.useState(s),c=(h=>{const m=h.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?\s]+)/);return m?m[1]:null})(t);if(!c)return null;const d=`https://img.youtube.com/vi/${c}/maxresdefault.jpg`,u=()=>{a(!0)};return n.jsx("div",{className:`relative ${r?"fixed inset-0 z-50 bg-black/90":""}`,children:n.jsxs("div",{className:`relative ${r?"w-full h-full flex items-center justify-center p-4":"w-full aspect-video"}`,children:[o?n.jsx("iframe",{src:`https://www.youtube.com/embed/${c}?autoplay=1`,title:e||"Strategy Guide",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:`rounded-lg ${r?"w-full max-w-6xl aspect-video":"w-full h-full"}`}):n.jsxs("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden group",children:[n.jsx("img",{src:d,alt:e||"Video thumbnail",className:"w-full h-full object-cover"}),n.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center\r
                         group-hover:bg-black/60 transition-colors`,children:n.jsx("button",{onClick:u,className:`bg-red-600 text-white rounded-full p-4 transform\r
                         transition-transform group-hover:scale-110`,children:n.jsx(jl,{className:"w-8 h-8"})})}),e&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80",children:n.jsx("h3",{className:"text-white font-medium",children:e})})]}),n.jsx("button",{onClick:()=>i(!r),className:`absolute top-2 right-2 p-2 rounded-lg bg-black/50 text-white hover:bg-black/70\r
                   transition-colors`,children:r?n.jsx(Q,{className:"w-5 h-5"}):n.jsx(vl,{className:"w-5 h-5"})})]})})},Nf=({isOpen:t,onClose:e,targetDefense:s,onSave:r,onDelete:i,availableUnits:o,existingCounter:a,isFleet:l})=>{var V,E,L;const[c,d]=f.useState(()=>{if(!a)return[];if(l){const S=a.counterSquad;return[S.capitalShip,...S.startingLineup,...S.reinforcements].filter(F=>F!==null)}else{const S=a.counterSquad;return[S.leader,...S.characters||[]].filter(F=>F!==null)}}),[u,h]=f.useState((a==null?void 0:a.counterType)||"hard"),[m,g]=f.useState((a==null?void 0:a.description)||""),[b,y]=f.useState(null),[v,p]=f.useState(!1),[x,w]=f.useState(!1),[C,T]=f.useState({required:(a==null?void 0:a.twOmicronRequired)||!1,comment:(a==null?void 0:a.twOmicronComment)||""}),[D,z]=f.useState((a==null?void 0:a.video_url)||""),[_,$]=f.useState((a==null?void 0:a.datacronRequired)||null),[U,Y]=f.useState(((V=a==null?void 0:a.requirements)==null?void 0:V.filter(S=>S.type==="mods").map(S=>{const[F,...q]=S.description.split(":");return{character:F.trim(),description:q.join(":").trim()}}))||[]);f.useEffect(()=>{console.log("CounterEditor received props:",{targetDefenseType:s.type,targetDefenseName:s.name,availableUnitsCount:o.length,hasExistingCounter:!!a,isFleet:l})},[s,o,a,l]),f.useEffect(()=>{if(a)if(h(a.counterType),g(a.description),a.counterSquad.type==="squad"){const S=a.counterSquad;d([S.leader,...S.characters].filter(F=>F!==null))}else{const S=a.counterSquad;d([S.capitalShip,...S.startingLineup,...S.reinforcements].filter(F=>F!==null))}},[a]);const M=async()=>{if(!navigator.onLine){y("Cannot save while offline");return}try{if(w(!0),c.length===0){y("Please select counter units");return}let S;const F={id:(a==null?void 0:a.id)||`counter-${Date.now()}`,counterType:u,description:m.trim(),video_url:D||void 0,strategy:(a==null?void 0:a.strategy)||[]};if(l){const q=c,P=k(q);if(P){y(P);return}S={...F,targetSquad:s,counterSquad:{id:`fleet-${Date.now()}`,type:"fleet",name:`Counter for ${s.name}`,alignment:s.alignment,capitalShip:q[0],startingLineup:q.slice(1,4),reinforcements:q.slice(4)},requirements:[]}}else S={...F,targetSquad:s,counterSquad:{id:`squad-${Date.now()}`,type:"squad",name:`Counter for ${s.name}`,alignment:s.alignment,leader:c[0],characters:c.slice(1)},twOmicronRequired:C.required,twOmicronComment:C.comment,datacronRequired:_!=null&&_.level?_:void 0,requirements:U.map(q=>({type:"mods",description:`${q.character}: ${q.description}`,priority:"required"}))};await r(S),e()}catch(S){console.error("Error saving counter:",S),y(S instanceof Error?S.message:"Failed to save counter")}finally{w(!1)}},N=async()=>{if(!(!a||!i)){if(!navigator.onLine){y("Cannot delete while offline");return}try{w(!0),await i(a.id),e()}catch(S){console.error("Error deleting counter:",S),y(S instanceof Error?S.message:"Failed to delete counter")}finally{w(!1)}}},j=S=>S===0?"Capital Ship":S>=1&&S<=3?`Starting Ship ${S}`:`Reinforcement ${S-3}`,k=S=>S.length===0?"At least one ship is required":S[0].isCapital?S.length>7?"Maximum of 7 ships allowed":null:"First ship must be a capital ship";return n.jsx(Ut,{fallback:n.jsxs("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Counter Editor Error"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-4",children:"An error occurred while editing the counter."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg bg-white/10 text-white \r
                       hover:bg-white/20`,children:"Close"}),n.jsxs("button",{onClick:()=>window.location.reload(),className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                       bg-red-500/20 text-red-400 hover:bg-red-500/30`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Refresh"]})]})]}),children:n.jsxs(I.div,{initial:{opacity:0},animate:{opacity:t?1:0},exit:{opacity:0},className:`fixed inset-0 z-50 overflow-y-auto ${!t&&"pointer-events-none"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),n.jsx("div",{className:"min-h-screen flex items-start justify-center py-8",children:n.jsxs(I.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative w-full max-w-2xl mx-4 bg-space-darker rounded-lg border border-white/10",onClick:S=>S.stopPropagation(),children:[n.jsx("div",{className:"sticky top-0 z-10 bg-space-darker border-b border-white/10 p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-medium text-white",children:a?"Edit Counter":"Add Counter"}),n.jsx("button",{onClick:e,className:"p-2 text-white/60 hover:text-white",children:n.jsx(Q,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"max-h-[calc(100vh-theme(spacing.32))] overflow-y-auto custom-scrollbar",children:n.jsxs("div",{className:"p-6 space-y-6",children:[b&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(Je,{className:"w-4 h-4"}),n.jsx(ge,{children:"Error"}),n.jsx(xe,{children:b})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-white",children:"Counter Type"}),n.jsx("div",{className:"flex gap-3",children:["hard","soft","risky"].map(S=>n.jsx("button",{onClick:()=>h(S),className:`px-4 py-2 rounded-lg capitalize ${u===S?S==="hard"?"bg-green-500/20 text-green-400":S==="soft"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400":"bg-white/5 text-white/60"}`,children:S},S))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"text-sm font-medium text-white",children:"Counter Units"}),n.jsx("button",{onClick:()=>p(!0),className:"text-sm text-blue-400 hover:text-blue-300",children:"+ Add Unit"})]}),n.jsx("div",{className:"flex flex-wrap gap-4",children:c.filter(S=>S&&S.id).map((S,F)=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:S.id,name:S.name,type:s.type==="squad"?"squad-member":"ship",size:"md",className:`${F===0&&l?"border-2 border-blue-400":""}`}),l&&n.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 bg-black/90 px-2 py-1 rounded text-xs text-white whitespace-nowrap",children:j(F)}),n.jsx("button",{onClick:()=>d(q=>q.filter((P,A)=>A!==F)),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},S.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-white",children:"Description"}),n.jsx("textarea",{value:m,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",rows:3,placeholder:"Describe how this counter works..."})]}),!l&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Datacron Requirement (Optional)"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"number",min:"1",max:"9",placeholder:"Level",value:(_==null?void 0:_.level)||"",onChange:S=>$({level:parseInt(S.target.value),description:(_==null?void 0:_.description)||""}),className:"w-24 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.jsx("input",{type:"text",placeholder:"Description",value:(_==null?void 0:_.description)||"",onChange:S=>$({level:(_==null?void 0:_.level)||1,description:S.target.value}),className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Mod Requirements (Optional)"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"text",placeholder:"Character",value:((E=U[0])==null?void 0:E.character)||"",onChange:S=>{var F;return Y([{character:S.target.value,description:((F=U[0])==null?void 0:F.description)||""}])},className:"w-1/3 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.jsx("input",{type:"text",placeholder:"Description",value:((L=U[0])==null?void 0:L.description)||"",onChange:S=>{var F;return Y([{character:((F=U[0])==null?void 0:F.character)||"",description:S.target.value}])},className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"twOmicron",checked:C.required,onChange:S=>T({...C,required:S.target.checked}),className:"w-4 h-4 rounded border-white/10 bg-white/5 text-blue-500"}),n.jsx("label",{htmlFor:"twOmicron",className:"text-sm text-white",children:"Requires Territory Wars Omicron"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-white",children:"Video Guide URL (Optional)"}),n.jsx("input",{type:"url",value:D,onChange:S=>z(S.target.value),placeholder:"YouTube URL...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),D&&n.jsx("div",{className:"mt-2",children:n.jsx(Sf,{videoUrl:D})})]}),n.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[n.jsx("div",{children:a&&i&&n.jsx("button",{onClick:N,disabled:x,className:"px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 disabled:opacity-50",children:"Delete Counter"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:e,disabled:x,className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:M,disabled:x,className:"px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 disabled:opacity-50",children:x?"Saving...":a?"Update Counter":"Save Counter"})]})]})]})}),v&&n.jsx(Zr,{type:s.type==="squad"?"character":"ship",isOpen:v,onClose:()=>p(!1),onSelect:S=>{if(l){const F=S;d(q=>{const P=q;return P.length===0?F.isCapital?[F]:(y("First ship must be a capital ship"),P):P.length<=3?[...P,F]:P.length<=6?[...P,F]:P})}else d(F=>[...F,S]);p(!1)},availableUnits:o,alignment:s.alignment,selectionType:"member"})]})})]})})},kf={validateSquadStructure:t=>!!(t.id&&t.name&&t.alignment&&Array.isArray(t.characters)),validateCharacters:t=>t.every(e=>!!(e.id&&e.name&&e.alignment)),validateLeader:t=>t?!!(t.id&&t.name&&t.alignment):!0,validateCompleteSquad:t=>{var e,s,r;return console.log("Validating squad:",{name:t.name,hasLeader:!!t.leader,leader:t.leader,membersCount:(e=t.characters)==null?void 0:e.length,members:t.characters}),(s=t.name)!=null&&s.trim()?t.leader?(r=t.characters)!=null&&r.length?{isValid:!0,error:null}:{isValid:!1,error:"Squad must have at least one member"}:(console.log("Leader validation failed:",t.leader),{isValid:!1,error:"Squad must have a leader"}):{isValid:!1,error:"Squad name is required"}}};class Et{static async withLock(e,s,r=3e4){return this.locks.get(e)?(console.log(`Operation ${e} is locked, waiting...`),new Promise((i,o)=>{const a=setTimeout(()=>{this.locks.set(e,!1),o(new Error(`Operation ${e} timed out`))},r),l=setInterval(()=>{this.locks.get(e)||(clearInterval(l),clearTimeout(a),this.executeWithLock(e,s).then(i).catch(o))},100)})):this.executeWithLock(e,s)}static async executeWithLock(e,s){try{return console.log(`Acquiring lock for ${e}`),this.locks.set(e,!0),await s()}finally{console.log(`Releasing lock for ${e}`),this.locks.set(e,!1)}}static isLocked(e){return this.locks.get(e)||!1}}de(Et,"locks",new Map);class ps{static async add(e,s){console.log(`Adding operation to queue: ${e}`),this.queue.push({operation:s,key:e}),this.isProcessing||await this.processQueue()}static async processQueue(){if(!(this.isProcessing||this.queue.length===0)){for(this.isProcessing=!0,console.log("Starting queue processing");this.queue.length>0;){const e=this.queue.shift();if(e)try{await Et.withLock(e.key,e.operation),console.log(`Successfully processed operation: ${e.key}`)}catch(s){console.error(`Error processing operation ${e.key}:`,s)}}this.isProcessing=!1,console.log("Queue processing completed")}}}de(ps,"queue",[]),de(ps,"isProcessing",!1);class Dt{static schedule(e,s,r=this.defaultDelay){this.timers.has(e)&&clearTimeout(this.timers.get(e));const i=setTimeout(async()=>{try{await ps.add(e,s),this.timers.delete(e)}catch(o){console.error(`Error in debounced operation ${e}:`,o)}},r);this.timers.set(e,i)}}de(Dt,"timers",new Map),de(Dt,"defaultDelay",1e3);class ne{static async checkOnline(){return navigator.onLine}static async handleOperation(e,s){if(!await this.checkOnline())throw new Error("Operation cannot be performed while offline");try{return await e()}catch(i){throw console.error(`${s}:`,i),new Error(s)}}static cleanDataForFirestore(e){if(console.log("cleanDataForFirestore called with:",{type:typeof e,isArray:Array.isArray(e),value:e}),e==null)return null;if(Array.isArray(e))return console.log("Processing array with length:",e.length),e.map(s=>this.cleanDataForFirestore(s));if(typeof e=="object"){console.log("Processing object with keys:",Object.keys(e));const s={};for(const[r,i]of Object.entries(e)){console.log(`Processing key "${r}":`,{type:typeof i,isArray:Array.isArray(i),hasValue:i!=null});const o=this.cleanDataForFirestore(i),a=["characters","leader","startingLineup","reinforcements","capitalShip"].includes(r);(o!==null||a)&&(s[r]=o,console.log(`Saved value for "${r}":`,o))}return s}return e}static async logChange(e){var s,r;try{const i=fe(Fe(ee,"changes")),o={...e,id:i.id,timestamp:yt(),changes:{...e.changes,[e.entityType]:{old:((s=e.changes[e.entityType])==null?void 0:s.old)||null,new:((r=e.changes[e.entityType])==null?void 0:r.new)||null}}};await Ke(i,o)}catch(i){console.error("Error logging change:",i)}}static async deleteSquad(e){try{const s=es(ee),r=await this.getCurrentUserId(),i=fe(ee,"squads",e),o=await He(i);if(!o.exists())throw new Error("Squad not found");s.delete(i);const a=nn(Fe(ee,"counters"),an("targetSquad.id","==",e));(await nt(a)).docs.forEach(c=>{s.delete(c.ref)}),await s.commit(),await this.logChange({entityId:e,entityType:"squad",changeType:"delete",userId:r,changes:{squad:{old:o.data(),new:null}}})}catch(s){throw console.error("Error deleting squad:",s),new Error("Failed to delete squad")}}static async addOrUpdateSquad(e){return Et.withLock("squad-sync",async()=>this.handleOperation(async()=>{const s=kf.validateCompleteSquad(e);if(!s.isValid)throw new Error(s.error||"Invalid squad data");const r=await this.getCurrentUserId(),i=await this.documentExists("squads",e.id),o=yt(),a={...e,lastUpdated:o,createdAt:i?void 0:o,updatedBy:r},l=fe(ee,"squads",e.id);await Ke(l,this.cleanDataForFirestore(a))},"Failed to save squad"))}static validateFleetData(e){var i;const s=(i=e.startingLineup)==null?void 0:i.every(o=>o.id&&o.name&&o.alignment),r=!e.capitalShip||e.capitalShip.id&&e.capitalShip.name&&e.capitalShip.alignment;return!!(e.id&&e.name&&e.alignment&&s&&r)}static async addOrUpdateFleet(e){return Et.withLock("fleet-sync",async()=>this.handleOperation(async()=>{if(!this.validateFleetData(e))throw new Error("Invalid fleet data structure");const s=await this.getCurrentUserId(),r=await this.documentExists("fleets",e.id),i=yt(),o={...e,lastUpdated:i,createdAt:r?void 0:i,updatedBy:s},a=fe(ee,"fleets",e.id);await Ke(a,this.cleanDataForFirestore(o))},"Failed to save fleet"))}static async deleteFleet(e){try{const s=es(ee),r=await this.getCurrentUserId(),i=fe(ee,"fleets",e),o=await He(i);if(!o.exists())throw new Error("Fleet not found");s.delete(i);const a=nn(Fe(ee,"counters"),an("targetSquad.id","==",e));(await nt(a)).docs.forEach(c=>{s.delete(c.ref)}),await s.commit(),await this.logChange({entityId:e,entityType:"fleet",changeType:"delete",userId:r,changes:{fleet:{old:o.data(),new:null}}})}catch(s){throw console.error("Error deleting fleet:",s),new Error("Failed to delete fleet")}}static async addOrUpdateCounter(e){return Et.withLock("counter-sync",async()=>this.handleOperation(async()=>{const s=e.id||`counter-${Date.now()}`,r=await this.documentExists("counters",s),i=yt(),o=await this.getCurrentUserId(),a={...e,id:s,lastUpdated:i,createdAt:r?void 0:i,updatedBy:o},l=fe(ee,"counters",s);return await Ke(l,this.cleanDataForFirestore(a)),a},"Failed to save counter"))}static async deleteCounter(e){return this.handleOperation(async()=>{console.log("Starting delete operation for counter:",e);const s=fe(ee,"counters",e),r=await He(s);if(!r.exists()){console.log(`Counter ${e} already deleted or doesn't exist`);return}const i=r.data();console.log("Found counter data:",i);const o=es(ee);o.delete(s);const a=fe(Fe(ee,"changes")),l=await this.getCurrentUserId();o.set(a,{id:a.id,entityId:e,entityType:"counter",changeType:"delete",userId:l,timestamp:yt(),changes:{counter:{old:i,new:null}}}),await o.commit(),console.log("Successfully deleted counter and created change log")},"Failed to delete counter")}static async getSquads(){try{return(await nt(Fe(ee,"squads"))).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting squads:",e),new Error("Failed to get squads")}}static async getFleets(){try{return(await nt(Fe(ee,"fleets"))).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting fleets:",e),new Error("Failed to get fleets")}}static async getCounters(){try{return(await nt(Fe(ee,"counters"))).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting counters:",e),new Error("Failed to get counters")}}static async documentExists(e,s){const r=fe(ee,e,s);return(await He(r)).exists()}static async syncAllData(){try{const[e,s,r]=await Promise.all([this.getSquads(),this.getFleets(),this.getCounters()]);return{squads:e,fleets:s,counters:r,timestamp:new Date().toISOString()}}catch(e){throw console.error("Error syncing data:",e),new Error("Failed to sync data")}}static async getCurrentUserId(){const e=Ct.currentUser;if(!e)throw new Error("No authenticated user");return e.uid}}const Cf={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},xt=({size:t="md",variant:e="default"})=>{const s={default:"border-blue-400",light:"border-white/40",dark:"border-gray-600"};return n.jsx(I.div,{className:`border-2 border-t-transparent rounded-full ${Cf[t]} ${s[e]}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})},qo=f.createContext(null);function Tf({children:t}){const[e,s]=f.useState(!1),[r,i]=f.useState(navigator.onLine),[o,a]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(0);f.useEffect(()=>{(async()=>{try{a(!0),c(null);try{await Xh()}catch{throw new Error("Firebase failed to initialize")}await ne.syncAllData(),s(!0)}catch(g){console.error("Firebase initialization error:",g),c(g instanceof Error?g.message:"Failed to initialize Firebase")}finally{a(!1)}})()},[d]),f.useEffect(()=>{const m=()=>{i(!0)},g=()=>i(!1);return window.addEventListener("online",m),window.addEventListener("offline",g),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",g)}},[]);const h=async()=>{u(m=>m+1)};return o&&!l?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-space-darker",children:n.jsxs("div",{className:"text-center",children:[n.jsx(xt,{size:"lg",className:"mb-4"}),n.jsx("p",{className:"text-white/60",children:"Initializing..."})]})}):l?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-space-darker",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-400 text-xl mb-4",children:l}),n.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):n.jsx(qo.Provider,{value:{isInitialized:e,isOnline:r,isLoading:o,error:l,retry:h},children:n.jsxs("div",{className:"relative",children:[!r&&n.jsx("div",{className:"sticky top-0 bg-yellow-500/90 text-black py-2 px-4 text-center z-50",children:"You are currently offline. Changes will be synced when you reconnect."}),t]})})}function bt(){const t=f.useContext(qo);if(!t)throw new Error("useFirebase must be used within a FirebaseProvider");return t}const ve={SQUADS:"swgoh-tw-squads",FLEETS:"swgoh-tw-fleets",COUNTERS:"swgoh-tw-counters",VERSION:"1.0.0"};class Pf{validateData(e){return Array.isArray(e)&&e.every(s=>typeof s=="object"&&s!==null)}async saveData(e,s){try{if(console.log(`Saving data to ${e}:`,s),!this.validateData(s))throw new Error("Invalid data format");const r={data:s,version:ve.VERSION,lastUpdated:new Date().toISOString()};localStorage.setItem(e,JSON.stringify(r)),console.log(`Data saved successfully to ${e}`)}catch(r){throw console.error(`Error saving ${e}:`,r),r}}getData(e,s=[]){try{console.log(`Getting data from ${e}`);const r=localStorage.getItem(e);if(!r)return console.log(`No data found in ${e}, using default value`),s;const i=JSON.parse(r);return Array.isArray(i)?(console.log(`Found legacy data format in ${e}`),i):i.data&&Array.isArray(i.data)?(console.log(`Found data in ${e}:`,i.data),i.data):(console.log(`Invalid data format in ${e}, using default value`),s)}catch(r){return console.error(`Error getting ${e}:`,r),s}}async saveSquads(e){Dt.schedule("save-squads",async()=>{await this.saveData(ve.SQUADS,e),await ne.addOrUpdateSquad(e[e.length-1])})}getSquads(){return this.getData(ve.SQUADS,[])}async saveFleets(e){Dt.schedule("save-fleets",async()=>{await this.saveData(ve.FLEETS,e),await ne.addOrUpdateFleet(e[e.length-1])})}getFleets(){return this.getData(ve.FLEETS,[])}async saveCounters(e){Dt.schedule("save-counters",async()=>{await this.saveData(ve.COUNTERS,e),e.length>0&&await ne.addOrUpdateCounter(e[e.length-1])})}getCounters(){return this.getData(ve.COUNTERS,[])}async clearAllData(){await ps.add("clear-all",async()=>{try{console.log("Clearing all data"),localStorage.removeItem(ve.SQUADS),localStorage.removeItem(ve.FLEETS),localStorage.removeItem(ve.COUNTERS),console.log("All data cleared successfully")}catch(e){throw console.error("Error clearing data:",e),e}})}}const Af=new Pf,zo=f.createContext(null);function Bo({children:t}){const[e,s]=f.useState(navigator.onLine),[r,i]=f.useState(null),[o,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!0),[h,m]=f.useState(null);f.useEffect(()=>{const v=Li(Ct,async p=>{try{if(p){const w=(await He(fe(ee,"users",p.uid))).data();a((w==null?void 0:w.isAdmin)||!1),c((w==null?void 0:w.isMasterAdmin)||!1),i(p)}else i(null),a(!1),c(!1)}catch(x){console.error("Error checking admin status:",x),m("Failed to verify admin status")}finally{u(!1)}});return()=>v()},[]),f.useEffect(()=>{const v=()=>s(!0),p=()=>s(!1);return window.addEventListener("online",v),window.addEventListener("offline",p),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",p)}},[]);const y={currentUser:r,isAdmin:o,isMasterAdmin:l,login:async(v,p)=>{if(!e)throw new Error("Cannot login while offline");try{m(null);const x=await rl(Ct,v,p),w=fe(ee,"users",x.user.uid);(await He(w)).exists()?await Ke(w,{lastLogin:new Date().toISOString()},{merge:!0}):await Ke(w,{email:x.user.email,isAdmin:!1,isMasterAdmin:!1,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()});const D=(await He(w)).data();if(!(D!=null&&D.isAdmin)&&!(D!=null&&D.isMasterAdmin))throw await on(Ct),new Error("Unauthorized access - not an admin user")}catch(x){const w=x;console.error("Login error:",w);let C="Failed to login. Please try again.";throw w.code==="auth/user-not-found"||w.code==="auth/wrong-password"?C="Invalid email or password":w.code==="auth/too-many-requests"&&(C="Too many failed attempts. Please try again later."),m(C),new Error(C)}},logout:async()=>{if(!e)throw new Error("Cannot logout while offline");try{await on(Ct),i(null),a(!1),c(!1),Af.clearAllData()}catch(v){throw console.error("Logout error:",v),m("Failed to logout"),v}},loading:d,error:h};return n.jsx(zo.Provider,{value:y,children:!d&&t})}function Qr(){const t=f.useContext(zo);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Ts=({value:t,onChange:e,label:s=!0})=>{const[r,i]=f.useState(!1),o=()=>{i(!r)},a=l=>{e(l),i(!1)};return n.jsxs("div",{className:"relative",children:[s&&n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Alignment"}),n.jsxs("button",{type:"button",onClick:o,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-left flex justify-between items-center",children:[n.jsx("span",{children:t==="light"?"Light Side":"Dark Side"}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&n.jsxs("div",{className:"absolute left-0 right-0 mt-1 bg-space-darker border border-white/10 rounded-lg shadow-lg z-[60]",children:[n.jsx("button",{type:"button",onClick:()=>a("light"),className:"w-full px-3 py-2 text-white hover:bg-white/5 text-left first:rounded-t-lg",children:"Light Side"}),n.jsx("button",{type:"button",onClick:()=>a("dark"),className:"w-full px-3 py-2 text-white hover:bg-white/5 text-left last:rounded-b-lg",children:"Dark Side"})]})]})},_f=({leader:t,members:e,onAddUnit:s,onRemoveUnit:r,alignment:i,showLeaderSelection:o=!0,availableUnits:a})=>{const[l,c]=f.useState(""),[d,u]=f.useState(!1),h=f.useCallback((b,y,v)=>{b.preventDefault(),b.stopPropagation();const p={id:y.id,name:y.name,role:y.role||"",alignment:y.alignment,isGalacticLegend:y.isGalacticLegend||!1};s(p,v),u(!1)},[s]),m=b=>{b.preventDefault(),b.stopPropagation(),u(!0)},g=f.useMemo(()=>{const b=l.toLowerCase(),y=new Set([t==null?void 0:t.id,...e.map(v=>v.id)]);return a.filter(v=>{const p=!l||v.name.toLowerCase().includes(b),x=!y.has(v.id),w=v.alignment===i;return p&&x&&w})},[l,a,t,e,i]);return n.jsxs("div",{className:"space-y-6",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"relative",children:[n.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),n.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),onClick:b=>{b.stopPropagation(),u(!0)},className:`w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg \r
                   text-white placeholder-white/40`,placeholder:"Search characters..."}),d&&n.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute z-50 w-full mt-2 bg-gray-900 border border-white/10 \r
                     rounded-lg shadow-lg max-h-64 overflow-y-auto`,onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10",children:[n.jsx("span",{className:"text-sm text-white/60",children:"Select Character"}),n.jsx("button",{onClick:b=>{b.stopPropagation(),u(!1)},className:"p-1 hover:bg-white/10 rounded",children:n.jsx(Q,{className:"w-4 h-4 text-white/60"})})]}),g.length>0?g.map(b=>n.jsx("div",{className:"p-3 hover:bg-white/5 transition-colors",onClick:y=>y.stopPropagation(),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(K,{id:b.id,name:b.name,type:!t&&o?"squad-leader":"squad-member",size:"sm",className:"rounded-full border-2 border-white/20"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white",children:b.name}),n.jsx("div",{className:"text-sm text-white/60",children:b.role})]})]}),n.jsxs("div",{className:"flex gap-2",children:[o&&!t&&n.jsx("button",{onClick:y=>h(y,b,!0),className:"px-3 py-1 text-sm rounded-md bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",children:"Set as Leader"}),e.length<4&&n.jsx("button",{onClick:y=>h(y,b,!1),className:"px-3 py-1 text-sm rounded-md bg-white/10 text-white hover:bg-white/20",children:"Add Member"})]})]})},b.id)):n.jsx("div",{className:"p-3 text-white/60 text-center",children:"No matching characters found"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium text-white/60 mb-2 flex items-center gap-2",children:[n.jsx(gr,{className:"w-4 h-4"}),"Leader"]}),n.jsx("div",{className:"relative group inline-block",children:t?n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:t.id,name:t.name,type:"squad-leader",size:"md",className:"rounded-full border-2 border-blue-400"}),n.jsx("button",{onClick:b=>{b.stopPropagation(),r(t.id,!0)},className:`absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full \r
                           flex items-center justify-center opacity-0 group-hover:opacity-100 \r
                           transition-opacity`,children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]}):n.jsx("button",{onClick:m,className:`w-12 h-12 rounded-full border-2 border-dashed border-blue-400/40 \r
                         flex items-center justify-center hover:border-blue-400/60 \r
                         transition-colors`,children:n.jsx("span",{className:"text-blue-400/60",children:"+"})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-white/60 mb-2",children:"Squad Members"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.map(b=>n.jsxs("div",{className:"relative group",children:[n.jsx(K,{id:b.id,name:b.name,type:"squad-member",size:"md",className:"rounded-full border-2 border-white/20"}),n.jsx("button",{onClick:y=>{y.stopPropagation(),r(b.id,!1)},className:`absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full \r
                           flex items-center justify-center opacity-0 group-hover:opacity-100 \r
                           transition-opacity`,children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},b.id)),e.length<4&&n.jsx("button",{onClick:m,className:`w-12 h-12 rounded-full border-2 border-dashed border-white/20 \r
                         flex items-center justify-center hover:border-white/40 \r
                         transition-colors`,children:n.jsx("span",{className:"text-white/40",children:"+"})})]})]})]})]})},Ef=({onSave:t,onCancel:e,availableUnits:s})=>{const[r,i]=f.useState(""),[o,a]=f.useState("light"),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState(!1),[g,b]=f.useState(""),[y,v]=f.useState(null),p=x=>{if(x.preventDefault(),v(null),!r.trim()){v("Squad name is required");return}if(!l){v("Squad must have a leader");return}if(d.length===0){v("Squad must have at least one member");return}const w={id:Ze(r),name:r.trim(),type:"squad",alignment:o,leader:l,characters:d,description:g.trim()||void 0,twOmicronRequired:h};t(w)};return n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[y&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(Je,{className:"w-4 h-4"}),n.jsx(ge,{children:"Error"}),n.jsx(xe,{children:y})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Squad Name"}),n.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Enter squad name"})]}),n.jsx("div",{children:n.jsx(Ts,{value:o,onChange:a})})]}),n.jsx(_f,{leader:l,members:d,onAddUnit:(x,w)=>{w?c(x):d.length<4&&u(C=>[...C,x])},onRemoveUnit:(x,w)=>{w?c(null):u(C=>C.filter(T=>T.id!==x))},alignment:o,availableUnits:s}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"twOmicron",checked:h,onChange:x=>m(x.target.checked),className:"w-4 h-4 rounded border-white/10 bg-white/5 text-blue-500"}),n.jsx("label",{htmlFor:"twOmicron",className:"ml-2 text-sm text-white",children:"Requires Territory Wars Omicron"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:g,onChange:x=>b(x.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",rows:3,placeholder:"Add any notes or description..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600",children:"Save Squad"})]})]})},Df=({capitalShip:t,startingLineup:e,reinforcements:s,onAddUnit:r,onRemoveUnit:i,alignment:o,availableUnits:a,isCounterSelector:l=!1})=>{const[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,g]=f.useState("capital"),b=f.useCallback((p,x,w)=>{p.preventDefault(),p.stopPropagation();const C={id:x.id,name:x.name,type:x.type,isCapital:x.isCapital,alignment:x.alignment};r(C,w),h(!1)},[r]),y=(p,x)=>{p.preventDefault(),p.stopPropagation(),g(x),h(!0)},v=f.useMemo(()=>{const p=c.toLowerCase(),x=new Set([t==null?void 0:t.id,...e.map(w=>w.id),...s.map(w=>w.id)]);return a.filter(w=>{const C=!c||w.name.toLowerCase().includes(p),T=!x.has(w.id),D=w.alignment===o;if(l)return C&&T&&D;const z=m==="capital"?w.isCapital:!w.isCapital;return C&&T&&D&&z})},[c,a,t,e,s,o,l,m]);return n.jsxs("div",{className:"space-y-6",onClick:p=>p.stopPropagation(),children:[n.jsxs("div",{className:"relative",children:[n.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),n.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),onClick:p=>p.stopPropagation(),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40",placeholder:"Search ships..."}),u&&n.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 w-full mt-2 bg-gray-900 border border-white/10 rounded-lg shadow-lg max-h-64 overflow-y-auto",onClick:p=>p.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10",children:[n.jsxs("span",{className:"text-sm text-white/60",children:["Select ",m==="capital"?"Capital Ship":"Ship"]}),n.jsx("button",{onClick:p=>{p.stopPropagation(),h(!1)},className:"p-1 hover:bg-white/10 rounded",children:n.jsx(Q,{className:"w-4 h-4 text-white/60"})})]}),v.length>0?v.map(p=>n.jsx("div",{className:"p-3 hover:bg-white/5 transition-colors",onClick:x=>x.stopPropagation(),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(K,{id:p.id,name:p.name,type:p.isCapital?"capital-ship":"ship",size:"sm",className:"rounded-full border-2 border-white/20"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white",children:p.name}),n.jsx("div",{className:"text-sm text-white/60",children:p.isCapital?"Capital Ship":"Ship"})]})]}),n.jsxs("button",{onClick:x=>b(x,p,m),className:"px-3 py-1 text-sm rounded-md bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",children:["Add ",m==="reinforcement"?"Reinforcement":""]})]})},p.id)):n.jsx("div",{className:"p-3 text-white/60 text-center",children:"No matching ships found"})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium text-white/60 mb-2 flex items-center gap-2",children:[n.jsx(hl,{className:"w-4 h-4"}),"Capital Ship"]}),n.jsx("div",{className:"relative group inline-block",children:t?n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:t.id,name:t.name,type:"capital-ship",size:"lg",className:"rounded-full border-2 border-blue-400"}),n.jsx("button",{onClick:p=>{p.stopPropagation(),i(t.id,"capital")},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]}):n.jsx("button",{onClick:p=>y(p,"capital"),className:"w-16 h-16 rounded-full border-2 border-dashed border-blue-400/40 flex items-center justify-center hover:border-blue-400/60 transition-colors",children:n.jsx("span",{className:"text-blue-400/60",children:"+"})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-white/60 mb-2",children:"Starting Lineup"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.map(p=>n.jsxs("div",{className:"relative group",children:[n.jsx(K,{id:p.id,name:p.name,type:"ship",size:"md",className:"rounded-full border-2 border-white/20"}),n.jsx("button",{onClick:x=>{x.stopPropagation(),i(p.id,"starting")},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},p.id)),e.length<3&&n.jsx("button",{onClick:p=>y(p,"starting"),className:"w-12 h-12 rounded-full border-2 border-dashed border-white/20 flex items-center justify-center hover:border-white/40 transition-colors",children:n.jsx("span",{className:"text-white/40",children:"+"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-white/60 mb-2",children:"Reinforcements"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.map((p,x)=>n.jsx("div",{className:"relative group",children:n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:p.id,name:p.name,type:"ship",size:"md",className:"rounded-full border-2 border-white/20"}),n.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs",children:x+1}),n.jsx("button",{onClick:w=>{w.stopPropagation(),i(p.id,"reinforcement")},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]})},p.id)),s.length<3&&n.jsx("button",{onClick:p=>y(p,"reinforcement"),className:"w-12 h-12 rounded-full border-2 border-dashed border-white/20 flex items-center justify-center hover:border-white/40 transition-colors",children:n.jsx("span",{className:"text-white/40",children:"+"})})]})]})]})},Mf=({onSave:t,onCancel:e,availableUnits:s})=>{const[r,i]=f.useState(""),[o,a]=f.useState("light"),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState([]),[g,b]=f.useState(""),[y,v]=f.useState(null),p=x=>{if(x.preventDefault(),v(null),!r.trim()){v("Fleet name is required");return}if(!l){v("Fleet must have a capital ship");return}if(d.length===0){v("Fleet must have at least one ship in starting lineup");return}const w={id:Ze(r),name:r.trim(),type:"fleet",alignment:o,capitalShip:l,startingLineup:d,reinforcements:h,description:g.trim()||void 0};t(w)};return n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[y&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(Je,{className:"w-4 h-4"}),n.jsx(ge,{children:"Error"}),n.jsx(xe,{children:y})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Fleet Name"}),n.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Enter fleet name"})]}),n.jsx("div",{children:n.jsx(Ts,{value:o,onChange:a})})]}),n.jsx(Df,{capitalShip:l,startingLineup:d,reinforcements:h,onAddUnit:(x,w)=>{switch(w){case"capital":c(x);break;case"starting":d.length<3&&u(C=>[...C,x]);break;case"reinforcement":h.length<3&&m(C=>[...C,x]);break}},onRemoveUnit:(x,w)=>{switch(w){case"capital":c(null);break;case"starting":u(C=>C.filter(T=>T.id!==x));break;case"reinforcement":m(C=>C.filter(T=>T.id!==x));break}},alignment:o,availableUnits:s}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:g,onChange:x=>b(x.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",rows:3,placeholder:"Add any notes or description..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600",children:"Create Fleet"})]})]})},Ff=({isOpen:t,onClose:e,onSave:s,initialType:r="squad",availableUnits:i})=>{const[o,a]=f.useState(r);if(!t)return null;const l=async c=>{try{await s(c),console.log("Defense saved successfully"),e()}catch(d){console.error("Error saving:",d)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center overflow-y-auto",children:n.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"w-full max-w-2xl mx-4 my-8 bg-space-darker rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>a("squad"),className:`flex items-center gap-2 px-4 py-2 rounded-lg ${o==="squad"?"bg-blue-500":"bg-white/5"}`,children:[n.jsx(gr,{className:"w-4 h-4"}),"Squad"]}),n.jsxs("button",{onClick:()=>a("fleet"),className:`flex items-center gap-2 px-4 py-2 rounded-lg ${o==="fleet"?"bg-blue-500":"bg-white/5"}`,children:[n.jsx(Ot,{className:"w-4 h-4"}),"Fleet"]})]}),n.jsx("button",{onClick:e,className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:n.jsx(Q,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:n.jsx("div",{className:"p-6",children:o==="squad"?n.jsx(Ef,{onSave:l,onCancel:e,availableUnits:i}):n.jsx(Mf,{onSave:l,onCancel:e,availableUnits:i})})})]})})},Lf=({notifications:t,onDismiss:e})=>n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:n.jsx(ce,{children:t.map(s=>n.jsxs(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
              ${s.type==="success"?"bg-green-500/10 text-green-400 border border-green-400/20":"bg-red-500/10 text-red-400 border border-red-400/20"}`,onClick:()=>e(s.id),children:[s.type==="success"?n.jsx(ml,{className:"w-3.5 h-3.5"}):n.jsx(Ii,{className:"w-3.5 h-3.5"}),s.message]},s.id))})}),Rf=({onClose:t})=>n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:n.jsxs(I.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-space-darker w-full max-w-2xl rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Admin Settings"}),n.jsx("button",{onClick:t,className:"p-2 text-green-500 hover:text-green-100 hover:bg-green-500 rounded-lg",children:"Tillbaka"})]}),n.jsx("div",{className:"p-6",children:n.jsx("p",{className:"text-white/60",children:"Här var det tom. Funktionen är för närvarande inaktiverad men kan användas i framtiden."})})]})});class Vf{static cleanDataForFirestore(e){if(e==null)return null;if(Array.isArray(e))return e.map(s=>this.cleanDataForFirestore(s)).filter(s=>s!=null);if(typeof e=="object"){const s={};for(const[r,i]of Object.entries(e)){const o=this.cleanDataForFirestore(i);o!=null&&(s[r]=o)}return s}return e}static async createAdminUser(e){try{console.log("Creating admin user...");const s=fe(ee,"users","admin");return await Ke(s,{email:e,isAdmin:!0,isMasterAdmin:!0,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),console.log("Admin user created successfully"),!0}catch(s){throw console.error("Error creating admin user:",s),s}}static async syncAll(){try{return console.log("Starting full data sync..."),await Promise.all([this.createAdminUser("admin@example.com")]),console.log("All data synced successfully"),!0}catch(e){throw console.error("Error during full sync:",e),e}}static async clearAllData(){try{console.log("Starting data clear...");const e=["squads","fleets","counters"],s=es(ee);for(const r of e)(await nt(Fe(ee,r))).forEach(o=>{s.delete(o.ref)});return await s.commit(),console.log("All data cleared successfully"),!0}catch(e){throw console.error("Error clearing data:",e),e}}}const Of=()=>{const[t,e]=f.useState(!1),[s,r]=f.useState(null),[i,o]=f.useState(!1),[a,l]=f.useState(!1);f.useEffect(()=>{let u;return a&&(u=setTimeout(()=>{l(!1)},4e3)),()=>{u&&clearTimeout(u)}},[a]);const c=async()=>{e(!0),r(null),o(!1),l(!1);try{await Promise.all([Vf.syncAll(),new Promise(u=>setTimeout(u,2e3))]),o(!0),setTimeout(()=>{l(!0),o(!0),setTimeout(()=>{o(!1),l(!1)},4e3)},100)}catch(u){r(u instanceof Error?u.message:"Ett fel uppstod vid synkronisering"),setTimeout(()=>{l(!0),setTimeout(()=>{r(null),l(!1)},4e3)},100)}finally{e(!1)}},d=()=>{if(t)return"bg-gray-500 cursor-not-allowed";if(a){if(i)return"bg-green-500 hover:bg-green-600";if(s)return"bg-red-500 hover:bg-red-600"}return"bg-blue-500 hover:bg-blue-600"};return n.jsxs("div",{className:"relative",children:[n.jsxs(I.button,{onClick:c,disabled:t,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${d()} 
                   text-white transition-all duration-300`,animate:{scale:t?.98:1},children:[n.jsx(Ie,{className:`w-4 h-4 transition-transform ${t?"animate-spin":""}`}),t?"Syncing...":"Sync Data"]}),n.jsx(ce,{children:(s||i)&&n.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full mt-2 right-0 min-w-[200px]",children:[s&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(ge,{children:"Error"}),n.jsx(xe,{children:s})]}),i&&n.jsxs(pe,{className:"bg-green-500/10 border-green-500/20 text-green-400",children:[n.jsx(ge,{children:"Success"}),n.jsx(xe,{children:"Data synced successfully!"})]})]})})]})},Jr=f.memo(({value:t,onChange:e,onClear:s,suggestions:r=[],onSelectSuggestion:i,placeholder:o="Search teams or ships..."})=>{const a=f.useMemo(()=>r.slice(0,10),[r]),[l,c]=f.useState(!1),[d,u]=f.useState({}),h=f.useRef(null);return f.useEffect(()=>{const m=async()=>{const g={};for(const b of a)try{"leader"in b&&b.leader?g[b.leader.id]=await hr(b.leader.id,"character"):"capitalShip"in b&&b.capitalShip&&(g[b.capitalShip.id]=await hr(b.capitalShip.id,"ship"))}catch(y){console.error("Failed to load image for suggestion:",y),g[b.id]="/placeholder.png"}u(g)};a.length>0&&m()},[a]),n.jsxs("div",{className:"relative w-full",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:h,type:"text",value:t,onChange:m=>e(m.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),className:`w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-10 py-2 \r
                   text-white placeholder-white/40 focus:outline-none focus:ring-2 \r
                   focus:ring-blue-400/50 focus:border-transparent`,placeholder:o}),n.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),t&&n.jsx("button",{onClick:()=>{var m;s(),(m=h.current)==null||m.focus()},className:`absolute right-3 top-1/2 transform -translate-y-1/2 \r
                     text-white/40 hover:text-white`,children:n.jsx(Q,{className:"w-4 h-4"})})]}),n.jsx(ce,{children:l&&a.length>0&&n.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute z-50 w-full mt-2 bg-space-dark border border-white/10 \r
                     rounded-lg shadow-lg overflow-hidden max-h-[300px] overflow-y-auto`,children:a.map(m=>n.jsxs("button",{onClick:()=>i==null?void 0:i(m),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 \r
                         transition-colors text-left`,children:["leader"in m&&m.leader?n.jsx("img",{src:d[m.leader.id]||"/placeholder.png",alt:m.leader.name,className:"w-8 h-8 rounded-full object-cover"}):"capitalShip"in m&&m.capitalShip?n.jsx("img",{src:d[m.capitalShip.id]||"/placeholder.png",alt:m.capitalShip.name,className:"w-8 h-8 rounded-full object-cover"}):null,n.jsxs("div",{children:[n.jsx("div",{className:"text-white",children:m.name}),n.jsx("div",{className:"text-sm text-white/40",children:"leader"in m?"Squad":"Fleet"})]})]},m.id))})})]})});Jr.displayName="SearchBar";const Ps=({counters:t,targetDefense:e,onEdit:s,onDelete:r})=>{const i=async a=>{try{s&&await s(a)}catch(l){console.error("Error editing counter:",l)}},o=async a=>{try{r&&await r(a)}catch(l){console.error("Error deleting counter:",l)}};return t.length===0?null:n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("h4",{className:"text-sm font-medium text-white/60",children:["Counters for ",e.name]}),n.jsx("div",{className:"space-y-3",children:t.filter(a=>a.targetSquad.id===e.id).map(a=>{var l;return n.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-white/5 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs
                    ${a.counterType==="hard"?"bg-green-500/20 text-green-400":a.counterType==="soft"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.counterType.charAt(0).toUpperCase()+a.counterType.slice(1)}),a.twOmicronRequired&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-purple-500/20 text-purple-400",children:"TW Omni"}),a.video_url&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400",children:[n.jsx(Ki,{className:"w-3 h-3"}),"Video"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>i(a),className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg",children:n.jsx(Sl,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(a.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",children:n.jsx(It,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-white/70",children:a.description}),((l=a.requirements)==null?void 0:l.length)>0&&n.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"Mod Requirements"}),a.requirements.filter(c=>c.type==="mods").map((c,d)=>n.jsx("div",{className:"text-sm text-white/70",children:c.description},d))]}),"leader"in a.counterSquad?n.jsxs("div",{className:"flex items-center gap-2",children:[a.counterSquad.leader&&n.jsx(K,{id:a.counterSquad.leader.id,name:a.counterSquad.leader.name,type:"squad-leader",size:"sm",className:"border-2 border-blue-400"}),a.counterSquad.characters.map(c=>n.jsx(K,{id:c.id,name:c.name,type:"squad-member",size:"sm",className:"border-2 border-white/20"},c.id))]}):n.jsxs("div",{className:"flex items-center gap-2",children:[a.counterSquad.capitalShip&&n.jsx(K,{id:a.counterSquad.capitalShip.id,name:a.counterSquad.capitalShip.name,type:"capital-ship",size:"sm",className:"border-2 border-blue-400"}),a.counterSquad.startingLineup.map(c=>n.jsx(K,{id:c.id,name:c.name,type:"ship",size:"sm",className:"border-2 border-white/20"},c.id))]})]},a.id)})})]})},As=({defense:t,onAddCounter:e,disabled:s=!1})=>n.jsxs("button",{onClick:()=>e(t),disabled:s,className:`flex items-center gap-2 px-4 py-2 rounded-lg 
                ${s?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-green-500/20 text-green-400 hover:bg-green-500/30"} 
                transition-colors`,children:[n.jsx(Re,{className:"w-4 h-4"}),"Add Counter"]}),If=({squad:t,counters:e,availableUnits:s,onClose:r,onUpdate:i,onDelete:o,onUpdateCounter:a,onDeleteCounter:l,onAddCounter:c,isOnline:d,saving:u=!1})=>{const[h,m]=f.useState(t.name),[g,b]=f.useState(!1),[y,v]=f.useState(t.alignment),[p,x]=f.useState(t.description||""),[w,C]=f.useState(t.twOmicronRequired||!1),[T,D]=f.useState(!1),[z,_]=f.useState("leader"),$=async()=>{if(d)try{const j={...t,name:h,alignment:y,id:Ze(h),description:p.trim()||void 0,twOmicronRequired:w};await i(j),r()}catch(j){console.error("Error saving squad:",j)}},U=()=>{o(t.id),r()},Y=(j,k)=>{const V={...t};k?V.leader=null:V.characters=V.characters.filter(E=>E.id!==j),i(V)},M=(j,k)=>{const V={...j,id:Ze(j.name)},E={...t};k?E.leader=V:E.characters.length<4&&(E.characters=[...E.characters,V]),i(E)},N=e.filter(j=>j.targetSquad.id===t.id);return n.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-y-auto",children:[n.jsx("div",{className:"min-h-full w-full flex items-start justify-center py-8",children:n.jsxs("div",{className:"relative w-full max-w-4xl mx-4 bg-space-darker rounded-lg border border-white/10",children:[n.jsxs("div",{className:"sticky top-0 z-10 flex justify-between items-center p-4 border-b border-white/10 bg-space-darker",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Squad"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>b(!0),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",children:n.jsx(It,{className:"w-5 h-5"})}),n.jsx("button",{onClick:r,className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:n.jsx(Q,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Squad Name"}),n.jsx("input",{type:"text",value:h,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),n.jsx("div",{children:n.jsx(Ts,{value:y,onChange:v})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Squad Formation"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-white/60 mb-2",children:"Leader"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.leader&&n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:t.leader.id,name:t.leader.name,type:"squad-leader",size:"lg",className:"border-2 border-blue-400"}),n.jsx("button",{onClick:()=>Y(t.leader.id,!0),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]}),!t.leader&&n.jsx("button",{onClick:()=>{_("leader"),D(!0)},className:"w-20 h-20 rounded-lg border-2 border-dashed border-blue-500/50 flex items-center justify-center hover:border-blue-500",children:n.jsx(Re,{className:"w-6 h-6 text-blue-500/50"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-white/60 mb-2",children:"Squad Members"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.characters.map(j=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:j.id,name:j.name,type:"squad-member",size:"md",className:"border-2 border-white/20"}),n.jsx("button",{onClick:()=>Y(j.id,!1),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},j.id)),t.characters.length<4&&n.jsx("button",{onClick:()=>{_("member"),D(!0)},className:"w-16 h-16 rounded-lg border-2 border-dashed border-white/20 flex items-center justify-center hover:border-white/40",children:n.jsx(Re,{className:"w-4 h-4 text-white/40"})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:p,onChange:j=>x(j.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",rows:2,placeholder:"Add any additional notes about this squad..."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"twOmicron",checked:w,onChange:j=>C(j.target.checked),className:`w-4 h-4 rounded border-white/10 bg-white/5 text-blue-500 \r
                           focus:ring-blue-500 focus:ring-offset-space-darker`}),n.jsx("label",{htmlFor:"twOmicron",className:"ml-2 text-sm text-white",children:"Requires Territory Wars Omicron"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:"Counters"}),n.jsx(As,{defense:t,onAddCounter:()=>c(t)})]}),n.jsx(Ps,{counters:N,targetDefense:t,onEdit:a,onDelete:l})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",disabled:u,children:"Cancel"}),n.jsx("button",{onClick:$,disabled:!d||u,className:`px-4 py-2 rounded-lg ${!d||u?"bg-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white`,children:u?"Saving...":"Save Changes"})]})]})]})}),n.jsx(ce,{children:g&&n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:n.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-space-darker p-6 rounded-lg max-w-md w-full mx-4 border border-white/10",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Squad"}),n.jsx("p",{className:"text-white/70 mb-6",children:"Are you sure you want to delete this squad? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:"Cancel"}),n.jsx("button",{onClick:U,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",children:"Delete"})]})]})})}),u&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n.jsx(xt,{size:"lg"})}),T&&n.jsx(Zr,{type:"character",isOpen:T,onClose:()=>D(!1),onSelect:j=>{M(j,z==="leader"),D(!1)},availableUnits:s,alignment:t.alignment,selectionType:z,title:`Select ${z==="leader"?"Leader":"Member"}`})]})},qf=({squads:t,counters:e,availableUnits:s,onUpdate:r,onDelete:i,onAddCounter:o,onEditCounter:a,onDeleteCounter:l})=>{const{isOnline:c,isLoading:d}=bt(),[u,h]=f.useState(!1),[m,g]=f.useState(null),[b,y]=f.useState(null),v=async x=>{if(!c){y("Cannot save while offline");return}try{h(!0),await r(x),y(null)}catch(w){console.error("Error updating squad:",w),y("Failed to update squad")}finally{h(!1)}},p=async x=>{try{await i(x),y(null)}catch(w){console.error("Error deleting squad:",w),y("Failed to delete squad")}};return d?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx(xt,{size:"lg"})}):n.jsxs("div",{className:"space-y-4",children:[!c&&n.jsxs(pe,{children:[n.jsx(ge,{children:"Offline Mode"}),n.jsx(xe,{children:"You are currently offline. Changes will be saved when you reconnect."})]}),b&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(Je,{className:"w-4 h-4"}),n.jsx(ge,{children:"Error"}),n.jsx(xe,{children:b})]}),t.map(x=>n.jsxs("div",{className:"p-4 rounded-lg bg-space-dark border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[x.leader&&n.jsx(K,{id:x.leader.id,name:x.leader.name,type:"squad-leader",size:"md",className:"border-2 border-blue-400"}),x.characters.map(w=>n.jsx(K,{id:w.id,name:w.name,type:"squad-member",size:"md",className:"border-2 border-white/20"},w.id))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:x.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs
                    ${x.alignment==="light"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:x.alignment==="light"?"Light Side":"Dark Side"}),x.twOmicronRequired&&n.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs bg-purple-500/20 text-purple-400",children:"TW Omicron"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(As,{defense:x,onAddCounter:()=>o(x),disabled:!c}),n.jsx("button",{onClick:()=>g(x),className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg",disabled:!c,children:n.jsx(Vt,{className:"w-4 h-4"})})]})]}),x.description&&n.jsx("div",{className:"mt-2 text-sm text-white/60",children:x.description}),n.jsx("div",{className:"mt-4",children:n.jsx(Ps,{counters:e.filter(w=>w.targetSquad.id===x.id),targetDefense:x,onEdit:a,onDelete:l})})]},x.id)),m&&n.jsx(If,{squad:m,counters:e,availableUnits:s,onClose:()=>{g(null),y(null)},onUpdate:v,onDelete:p,onUpdateCounter:a,onDeleteCounter:l,onAddCounter:o,isOnline:c,saving:u})]})},zf=({fleet:t,counters:e,availableUnits:s,onClose:r,onUpdate:i,onDelete:o,onUpdateCounter:a,onDeleteCounter:l,onSelectForCounter:c})=>{const[d,u]=f.useState(t.name),[h,m]=f.useState(t.callOrder||""),[g,b]=f.useState(!1),[y,v]=f.useState(t.alignment),[p,x]=f.useState(!1),[w,C]=f.useState("capital"),[T,D]=f.useState(!1),[z,_]=f.useState(null),{isOnline:$}=bt(),U=async()=>{if(!$){_("Cannot save while offline");return}try{D(!0);const k={...t,name:d,alignment:y,id:Ze(d),callOrder:h.trim()||void 0};await i(k),r()}catch(k){console.error("Error saving fleet:",k),_("Failed to save fleet")}finally{D(!1)}},Y=async()=>{if(!$){_("Cannot delete while offline");return}try{D(!0),await o(t.id),r()}catch(k){console.error("Error deleting fleet:",k),_("Failed to delete fleet")}finally{D(!1)}},M=(k,V)=>{const E={...k,id:Ze(k.name)},L={...t};switch(V){case"capital":L.capitalShip=E;break;case"starting":L.startingLineup.length<3&&(L.startingLineup=[...L.startingLineup,E]);break;case"reinforcement":L.reinforcements.length<3&&(L.reinforcements=[...L.reinforcements,E]);break}i(L)},N=(k,V)=>{const E={...t};switch(V){case"capital":E.capitalShip=null;break;case"starting":E.startingLineup=E.startingLineup.filter(L=>L.id!==k);break;case"reinforcement":E.reinforcements=E.reinforcements.filter(L=>L.id!==k);break}i(E)},j=e.filter(k=>k.targetSquad.id===t.id);return n.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-y-auto",children:[n.jsx("div",{className:"min-h-full w-full flex items-start justify-center py-8",children:n.jsxs("div",{className:"relative w-full max-w-4xl mx-4 bg-space-darker rounded-lg border border-white/10",children:[n.jsxs("div",{className:"sticky top-0 z-10 flex justify-between items-center p-4 border-b border-white/10 bg-space-darker",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Fleet"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>b(!0),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",children:n.jsx(It,{className:"w-5 h-5"})}),n.jsx("button",{onClick:r,className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg",children:n.jsx(Q,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Fleet Name"}),n.jsx("input",{type:"text",value:d,onChange:k=>u(k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),n.jsx("div",{children:n.jsx(Ts,{value:y,onChange:v})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Fleet Formation"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-white/60 mb-2",children:"Capital Ship"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.capitalShip&&n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:t.capitalShip.id,name:t.capitalShip.name,type:"capital-ship",size:"lg",className:"border-2 border-blue-400"}),n.jsx("button",{onClick:()=>N(t.capitalShip.id,"capital"),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]}),!t.capitalShip&&n.jsx("button",{onClick:()=>{C("capital"),x(!0)},className:"w-20 h-20 rounded-lg border-2 border-dashed border-blue-500/50 flex items-center justify-center hover:border-blue-500",children:n.jsx(Re,{className:"w-6 h-6 text-blue-500/50"})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-white/60 mb-2",children:"Starting Lineup"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.startingLineup.map(k=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:k.id,name:k.name,type:"ship",size:"md",className:"border-2 border-white/20"}),n.jsx("button",{onClick:()=>N(k.id,"starting"),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},k.id)),t.startingLineup.length<3&&n.jsx("button",{onClick:()=>{C("starting"),x(!0)},className:"w-16 h-16 rounded-lg border-2 border-dashed border-white/20 flex items-center justify-center hover:border-white/40",children:n.jsx(Re,{className:"w-4 h-4 text-white/40"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-white/60 mb-2",children:"Reinforcements"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.reinforcements.map((k,V)=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:k.id,name:k.name,type:"ship",size:"md",className:"border-2 border-white/20"}),n.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs",children:V+1}),n.jsx("button",{onClick:()=>N(k.id,"reinforcement"),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600",children:n.jsx(Q,{className:"w-3 h-3 text-white"})})]},k.id)),t.reinforcements.length<3&&n.jsx("button",{onClick:()=>{C("reinforcement"),x(!0)},className:"w-16 h-16 rounded-lg border-2 border-dashed border-white/20 flex items-center justify-center hover:border-white/40",children:n.jsx(Re,{className:"w-4 h-4 text-white/40"})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Call Order"}),n.jsx("textarea",{value:h,onChange:k=>m(k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",rows:2,placeholder:"Enter reinforcement call order strategy..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:"Counters"}),n.jsx(As,{defense:t,onAddCounter:()=>c(t),disabled:!$||T})]}),n.jsx(Ps,{counters:j,targetDefense:t,onEdit:a,onDelete:l})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:"Cancel"}),n.jsx("button",{onClick:U,className:"px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600",disabled:!$||T,children:"Save Changes"})]})]})]})}),n.jsx(ce,{children:g&&n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:n.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-space-darker p-6 rounded-lg max-w-md w-full mx-4 border border-white/10",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Fleet"}),n.jsx("p",{className:"text-white/70 mb-6",children:"Are you sure you want to delete this fleet? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:"Cancel"}),n.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",disabled:!$||T,children:"Delete"})]})]})})}),p&&n.jsx(Zr,{type:"ship",isOpen:p,onClose:()=>x(!1),onSelect:k=>{M(k,w),x(!1)},availableUnits:s,alignment:t.alignment,selectionType:w,title:`Select ${w==="capital"?"Capital Ship":w==="starting"?"Starting Ship":"Reinforcement"}`}),T&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n.jsx(xt,{size:"lg"})}),z&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(ge,{children:"Error"}),n.jsxs(xe,{className:"flex justify-between items-center",children:[z,n.jsx("button",{onClick:()=>_(null),className:"ml-2 text-red-400 hover:text-red-300",children:n.jsx(Q,{className:"w-4 h-4"})})]})]})]})},Bf=({fleets:t,counters:e,availableUnits:s,onUpdate:r,onDelete:i,onAddCounter:o,onEditCounter:a,onDeleteCounter:l})=>{const{isOnline:c,isLoading:d}=bt(),[u,h]=f.useState(null),[m,g]=f.useState(!1),[b,y]=f.useState(null),v=async p=>{if(!c){y("Cannot save while offline");return}try{g(!0),await r(p),y(null)}catch(x){throw console.error("Error updating fleet:",x),y("Failed to update fleet"),x}finally{g(!1)}};return d?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx(xt,{size:"lg"})}):n.jsxs("div",{className:"space-y-4",children:[!c&&n.jsxs(pe,{children:[n.jsx(ge,{children:"Offline Mode"}),n.jsx(xe,{children:"You are currently offline. Changes will be saved when you reconnect."})]}),b&&n.jsxs(pe,{variant:"destructive",children:[n.jsx(ge,{children:"Error"}),n.jsxs(xe,{className:"flex justify-between items-center",children:[b,n.jsx("button",{onClick:()=>y(null),className:"ml-2 text-red-400 hover:text-red-300",children:n.jsx(Q,{className:"w-4 h-4"})})]})]}),t.map(p=>n.jsxs("div",{className:"p-4 rounded-lg bg-space-dark border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[p.capitalShip&&n.jsx(K,{id:p.capitalShip.id,name:p.capitalShip.name,type:"capital-ship",size:"md",className:"border-2 border-blue-400"}),p.startingLineup.map(x=>n.jsx(K,{id:x.id,name:x.name,type:"ship",size:"md",className:"border-2 border-white/20"},x.id))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs mt-1
                    ${p.alignment==="light"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:p.alignment==="light"?"Light Side":"Dark Side"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(As,{defense:p,onAddCounter:()=>o(p),disabled:!c||m}),n.jsx("button",{onClick:()=>h(p),className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:!c||m,children:n.jsx(Vt,{className:"w-4 h-4"})})]})]}),p.reinforcements.length>0&&n.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4",children:[n.jsx("span",{className:"text-sm text-white/40 block mb-2",children:"Reinforcements:"}),n.jsx("div",{className:"flex items-center gap-2",children:p.reinforcements.map((x,w)=>n.jsxs("div",{className:"relative",children:[n.jsx(K,{id:x.id,name:x.name,type:"ship",size:"sm",className:"border-2 border-white/20"}),n.jsx("div",{className:`absolute -top-1 -left-1 w-5 h-5 bg-blue-500 rounded-full \r
                                  flex items-center justify-center text-white text-xs`,children:w+1})]},x.id))})]}),p.callOrder&&n.jsx("div",{className:"mt-2 text-sm text-white/60",children:p.callOrder}),n.jsx("div",{className:"mt-4",children:n.jsx(Ps,{counters:e.filter(x=>x.targetSquad.id===p.id),targetDefense:p,onEdit:a,onDelete:l})})]},p.id)),u&&n.jsx(zf,{fleet:u,counters:e,availableUnits:s,onClose:()=>{h(null),y(null)},onUpdate:v,onDelete:i,onUpdateCounter:a,onDeleteCounter:l,onSelectForCounter:o})]})},Uf=({error:t,onDismiss:e})=>t?n.jsxs(pe,{variant:"destructive",className:"mb-4",children:[n.jsx(ge,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Je,{className:"w-4 h-4"}),n.jsx("span",{children:"Error"})]}),n.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-300",children:n.jsx(Q,{className:"w-4 h-4"})})]})}),n.jsx(xe,{children:t})]}):null,$f=({squads:t,fleets:e,counters:s,onUpdateSquad:r,onDeleteSquad:i,onUpdateFleet:o,onDeleteFleet:a,onAddCounter:l,onDeleteCounter:c,onLogout:d})=>{const[u,h]=f.useState("squads"),[m,g]=f.useState(null),[b,y]=f.useState(!1),[v,p]=f.useState(null),[x,w]=f.useState([]),[C,T]=f.useState([]),[D,z]=f.useState(null),[_,$]=f.useState(!1),{isOnline:U,error:Y}=bt(),{isAdmin:M,currentUser:N}=Qr(),[j,k]=f.useState([]),[V,E]=f.useState(!1),[L,S]=f.useState(""),[F,q]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const{characters:se,ships:be,capital_ships:st}=await vf(async()=>{const{characters:$o,ships:Go,capital_ships:Wo}=await import("./initialData-Bghu_pyR.js");return{characters:$o,ships:Go,capital_ships:Wo}},[]);console.log("Loading initial units:",{charactersCount:Object.keys(se).length,shipsCount:Object.keys(be).length,capitalShipsCount:Object.keys(st).length});const $t=Object.values(se),tn=[...Object.values(be),...Object.values(st)];w($t),T(tn),console.log("Units loaded into state:",{charactersLoaded:$t.length,shipsLoaded:tn.length})}catch(se){console.error("Failed to load units:",se),g("Failed to load available units")}})()},[]);const P=W=>{const se=!("leader"in W),be=se?C:x;console.log("Adding counter for:",{defenseType:se?"Fleet":"Squad",defenseName:W.name,availableUnits:be.length}),p(W),q(se),y(!0),g(null)},A=async W=>{if(!U||!M||!N){g("Not authorized or offline");return}try{console.log("AdminDashboard: Saving counter data:",W),await l(W),y(!1),p(null),g(null)}catch(se){console.error("Error saving counter:",se);const be=se instanceof Error?se.message:"Failed to save counter";g(be)}},R=async W=>{try{console.log("AdminDashboard handling delete for counter:",W),await ne.deleteCounter(W),c(W)}catch(se){console.error("Error deleting counter:",se),g("Failed to delete counter")}},H=(W,se)=>{const be=Date.now().toString();k(st=>[...st,{id:be,type:W,message:se}]),setTimeout(()=>{k(st=>st.filter($t=>$t.id!==be))},3e3)},ye=f.useCallback(async W=>{try{if(!U){g("Cannot save while offline");return}W.type==="squad"?(await ne.addOrUpdateSquad(W),r(W),H("success","Squad saved successfully")):(await ne.addOrUpdateFleet(W),o(W),H("success","Fleet saved successfully")),g(null)}catch(se){console.error("Error saving defense:",se),H("error","Failed to save defense")}},[U,r,o]),Se=async W=>{try{localStorage.setItem("adminUsers",JSON.stringify(W.users)),H("success","Settings saved successfully"),E(!1)}catch{H("error","Failed to save settings")}},ze=m||Y,en=async W=>{p(W.targetSquad),y(!0),z(W),g(null)},Uo=()=>{$(!1)};return n.jsx("div",{className:"min-h-screen bg-space-darker",children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h1",{className:"text-2xl font-orbitron text-white flex items-center gap-2",children:[n.jsx(Ui,{className:"w-6 h-6"}),"Defense Manager"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>$(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 \r
                       text-white hover:bg-blue-600`,children:[n.jsx(Re,{className:"w-4 h-4"}),"Add New Defense"]}),n.jsx(Of,{}),n.jsx("div",{className:"flex-1"}),n.jsx("button",{onClick:()=>E(!0),className:`p-2 text-blue-400/70 hover:text-blue-400 \r
                       hover:bg-blue-400/10 rounded-lg transition-colors`,children:n.jsx(Vt,{className:"w-5 h-5"})}),n.jsxs("button",{onClick:d,className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                       bg-red-500/20 text-red-400 hover:bg-red-500/30`,children:[n.jsx(Gi,{className:"w-4 h-4"}),"Logout"]})]})]}),n.jsx(Uf,{error:ze,onDismiss:()=>g(null)}),n.jsxs(Ut,{fallback:n.jsx("div",{className:"min-h-screen bg-space-darker flex items-center justify-center",children:n.jsxs("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Admin Dashboard Error"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-4",children:"There was an error loading the admin dashboard. Please try logging in again."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:d,className:`px-4 py-2 rounded-lg bg-red-500/20 text-red-400 \r
                             hover:bg-red-500/30`,children:"Logout"}),n.jsxs("button",{onClick:()=>window.location.reload(),className:`flex items-center gap-2 px-4 py-2 rounded-lg \r
                             bg-blue-500 text-white hover:bg-blue-600`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Refresh"]})]})]})}),children:[n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("button",{onClick:()=>h("squads"),className:`px-4 py-2 rounded-lg flex items-center gap-2 ${u==="squads"?"bg-blue-500 text-white":"bg-white/5 text-white/60"}`,children:[n.jsx(bs,{className:"w-4 h-4"}),"Squad Defense"]}),n.jsxs("button",{onClick:()=>h("fleets"),className:`px-4 py-2 rounded-lg flex items-center gap-2 ${u==="fleets"?"bg-blue-500 text-white":"bg-white/5 text-white/60"}`,children:[n.jsx(Ot,{className:"w-4 h-4"}),"Fleet Defense"]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"w-96",children:n.jsx(Jr,{value:L,onChange:S,onClear:()=>S(""),placeholder:`Search ${u}...`})})}),n.jsx("div",{className:"space-y-6",children:u==="squads"?n.jsx(qf,{squads:t.filter(W=>W.name.toLowerCase().includes(L.toLowerCase())),counters:s.filter(W=>"leader"in W.targetSquad),availableUnits:x,onUpdate:r,onDelete:i,onAddCounter:P,onEditCounter:en,onDeleteCounter:R}):n.jsx(Bf,{fleets:e.filter(W=>W.name.toLowerCase().includes(L.toLowerCase())),counters:s.filter(W=>!("leader"in W.targetSquad)),availableUnits:C,onUpdate:o,onDelete:a,onAddCounter:P,onEditCounter:en,onDeleteCounter:R})})]}),b&&v&&n.jsx(Nf,{isOpen:b,onClose:()=>{y(!1),p(null),z(null),g(null)},targetDefense:v,onSave:A,onDelete:R,availableUnits:"leader"in v?x:C,existingCounter:D,isFleet:F}),_&&n.jsx(Ff,{isOpen:_,onClose:Uo,onSave:ye,initialType:u==="squads"?"squad":"fleet",availableUnits:u==="squads"?x:C}),V&&n.jsx(Rf,{onClose:()=>E(!1),onSave:Se}),n.jsx(Lf,{notifications:j,onDismiss:W=>k(se=>se.filter(be=>be.id!==W))})]})})},Gf=({onLogin:t,onClose:e})=>{const[s,r]=f.useState(!1),[i,o]=f.useState({email:"",password:""}),[a,l]=f.useState(!1),{login:c,error:d}=Qr(),[u,h]=f.useState(null),[m,g]=f.useState(0);f.useEffect(()=>{d&&h(d)},[d]);const b=async y=>{y.preventDefault(),h(null),l(!0);try{if(m>=5)throw new Error("Too many login attempts. Please try again later.");await c(i.email,i.password),t(!0),e()}catch(v){console.error("Login error:",v),g(p=>p+1),h(v instanceof Error?v.message:"Failed to login")}finally{l(!1)}};return n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsx(I.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-md bg-space-darker rounded-lg border border-white/10",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-white",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:i.email,onChange:y=>o({...i,email:y.target.value}),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Enter email",required:!0,disabled:a}),n.jsx(Tl,{className:"absolute left-3 top-2.5 h-5 w-5 text-white/40"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-white",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:s?"text":"password",value:i.password,onChange:y=>o({...i,password:y.target.value}),className:"w-full pl-10 pr-12 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Enter password",required:!0,disabled:a}),n.jsx(yl,{className:"absolute left-3 top-2.5 h-5 w-5 text-white/40"}),n.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-2.5 text-white/40 hover:text-white",disabled:a,children:s?n.jsx(fl,{className:"h-5 w-5"}):n.jsx(pl,{className:"h-5 w-5"})})]})]}),n.jsx(ce,{children:u&&n.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-3 rounded-lg bg-red-500/10 border border-red-500/20 \r
                           flex items-start gap-2 text-red-400 text-sm`,children:[n.jsx(Ii,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:u})]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:`px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20 \r
                         disabled:opacity-50 disabled:cursor-not-allowed`,disabled:a,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:a||m>=5,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 \r
                         disabled:opacity-50 disabled:cursor-not-allowed relative`,children:a?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(I.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full"}),"Logging in..."]}):"Login"})]}),m>=5&&n.jsx(I.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-yellow-400 mt-4",children:"Too many login attempts. Please try again later."})]})]})})})},Wf=({title:t,subtitle:e,className:s,withAnimation:r=!0,onAction:i,children:o,...a})=>{const l=c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),i==null||i())};return n.jsxs(I.div,{role:"region","aria-label":t||"Hero section",tabIndex:0,onKeyDown:l,initial:r?{opacity:0,y:20}:!1,animate:r?{opacity:1,y:0}:!1,transition:{duration:.5},className:ft("relative overflow-hidden","min-h-[300px] py-16 px-4",s),...a,children:[n.jsx("div",{className:"absolute inset-0 bg-hero-pattern animate-pulse-slow"}),n.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20"}),n.jsx(I.div,{animate:{opacity:[.4,.6,.4],scale:[1,1.2,1]},transition:{duration:4,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 bg-glow-pattern"}),n.jsxs("div",{className:"relative z-10 container mx-auto",children:[t&&n.jsx(I.h1,{initial:r?{opacity:0,y:20}:!1,animate:r?{opacity:1,y:0}:!1,transition:{delay:.2},className:`text-4xl md:text-5xl lg:text-6xl font-orbitron text-white \r
                     text-center mb-4 tracking-wider`,children:t}),e&&n.jsx(I.p,{initial:r?{opacity:0,y:20}:!1,animate:r?{opacity:1,y:0}:!1,transition:{delay:.3},className:"text-xl text-white/80 text-center mb-8 max-w-3xl mx-auto",children:e}),n.jsx(I.div,{initial:r?{opacity:0,y:20}:!1,animate:r?{opacity:1,y:0}:!1,transition:{delay:.4},children:o})]})]})},Mi={showEditor:!1,targetDefense:null,editingCounter:null},Kf=f.createContext(void 0),Hf=({children:t})=>{const[e,s]=f.useState(Mi),{isOnline:r}=bt(),i=f.useCallback(l=>{s(c=>({...c,...l}))},[]),o=f.useCallback(()=>{s(Mi)},[]),a=f.useCallback(async l=>{if(!r)throw new Error("Cannot update counter while offline");try{await ne.addOrUpdateCounter(l),s(c=>({...c,editingCounter:null}))}catch(c){throw console.error("Failed to update counter:",c),c}},[r]);return n.jsx(Kf.Provider,{value:{state:e,updateState:i,resetState:o,updateCounter:a},children:t})},Yf=f.createContext(null);function Xf({children:t}){const[e,s]=f.useState(()=>localStorage.getItem("theme")||"dark");f.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.classList.toggle("light-theme",e==="light"),document.documentElement.classList.toggle("dark-theme",e==="dark")},[e]);const r=()=>{s(i=>i==="dark"?"light":"dark")};return n.jsx(Yf.Provider,{value:{theme:e,toggleTheme:r},children:t})}const Zf=()=>n.jsx(Ut,{fallback:n.jsx("div",{className:"min-h-screen bg-space-darker flex items-center justify-center",children:n.jsxs("div",{className:"p-6 bg-red-500/10 rounded-lg border border-red-500/20 max-w-md w-full text-center",children:[n.jsx(Je,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-red-400 mb-2",children:"Application Error"}),n.jsx("p",{className:"text-sm text-red-400/80 mb-6",children:"We apologize, but something went wrong with the application. Please try refreshing the page."}),n.jsxs("button",{onClick:()=>window.location.reload(),className:`flex items-center gap-2 px-6 py-3 rounded-lg \r
                       bg-red-500/20 text-red-400 hover:bg-red-500/30 mx-auto`,children:[n.jsx(Ie,{className:"w-4 h-4"}),"Reload Application"]})]})}),children:n.jsx(Tf,{children:n.jsx(Bo,{children:n.jsx(Xf,{children:n.jsx(Hf,{children:n.jsx(Qf,{})})})})})});function Fi(t,e){return Array.isArray(t)?t.filter(s=>{if(e.searchTerm){const r=e.searchTerm.toLowerCase(),i=s.name.toLowerCase().includes(r);if("characters"in s){const o=s.characters.some(l=>l.name.toLowerCase().includes(r)),a=s.leader&&s.leader.name.toLowerCase().includes(r);if(!i&&!o&&!a)return!1}else if(!i)return!1}return!(e.alignment&&s.alignment!==e.alignment||e.showTWOmicronOnly&&"twOmicronRequired"in s&&!s.twOmicronRequired||e.excludeGL&&"characters"in s&&(s.characters.some(i=>i.isGalacticLegend)||s.leader&&s.leader.isGalacticLegend))}):[]}function Qf(){const[t,e]=f.useState(null),{isOnline:s,isLoading:r}=bt(),{isAdmin:i,loading:o,logout:a}=Qr(),[l,c]=f.useState(!1),[d,u]=f.useState("squads"),[h,m]=f.useState([]),[g,b]=f.useState([]),[y,v]=f.useState([]),[p,x]=f.useState(null),[w,C]=f.useState(!0),[T,D]=f.useState(!1),[z,_]=f.useState(""),[$,U]=f.useState(!1),[Y,M]=f.useState({battleType:null,alignment:null,showTWOmicronOnly:!1,showHardCounters:!1,excludeGL:!1,searchTerm:""});f.useEffect(()=>{(async()=>{C(!0);try{const{squads:A,fleets:R,counters:H}=await ne.syncAllData();m(A),b(R),v(H),D(!1)}catch(A){console.error("Error loading data:",A)}finally{C(!1)}})()},[]);const N=d==="squads"?Fi(h,Y):[],j=d==="fleets"?Fi(g,Y):[],k=(P,A)=>y.filter(R=>{var H;if(A==="squad"){const ye=R.targetSquad.id===P,Se=R.counterSquad.id===P;return ye||Se}else{const ye=R.targetSquad.id===P,Se=R.counterSquad.id===P,ze="capitalShip"in R.targetSquad&&((H=R.targetSquad.capitalShip)==null?void 0:H.id)===P;return ye||Se||ze}});f.useEffect(()=>{!w&&T&&(async()=>{try{await Promise.all([...h.map(A=>ne.addOrUpdateSquad(A)),...g.map(A=>ne.addOrUpdateFleet(A)),...y.map(A=>ne.addOrUpdateCounter(A))]),D(!1)}catch(A){console.error("Error saving data:",A)}})()},[h,g,y,w,T]),f.useEffect(()=>{const P=A=>{T&&(A.preventDefault(),A.returnValue="")};return window.addEventListener("beforeunload",P),()=>window.removeEventListener("beforeunload",P)},[T]);const V=()=>{c(!1)},E=async()=>{try{if(T&&!window.confirm("Du har osparade ändringar. Vill du verkligen logga ut?"))return;await a(),c(!1)}catch(P){console.error("Error logging out:",P)}},L=(P,A)=>{M(R=>({...R,[P]:A})),x(null)},S=P=>{_(P),M(A=>({...A,searchTerm:P}))},F=async P=>{if(!s){e("Cannot delete counter while offline");return}try{console.log("Starting delete counter process for:",P),await ne.deleteCounter(P),v(A=>A.filter(R=>R.id!==P)),console.log("Counter removed from local state"),e(null)}catch(A){console.error("Error deleting counter:",A);const R=A instanceof Error?A.message:"Failed to delete counter";R!=="Counter not found"&&e(R)}},q={onUpdateSquad:async P=>{try{await ne.addOrUpdateSquad(P),m(A=>{const R=A.findIndex(H=>H.id===P.id);if(R>=0){const H=[...A];return H[R]=P,H}return[...A,P]})}catch(A){console.error("Error updating squad:",A)}},onDeleteSquad:async P=>{try{await ne.deleteSquad(P),m(A=>A.filter(R=>R.id!==P)),v(A=>A.filter(R=>R.targetSquad.id!==P&&R.counterSquad.id!==P))}catch(A){console.error("Error deleting squad:",A)}},onUpdateFleet:async P=>{try{await ne.addOrUpdateFleet(P),b(A=>{const R=A.findIndex(H=>H.id===P.id);if(R>=0){const H=[...A];return H[R]=P,H}return[...A,P]})}catch(A){console.error("Error updating fleet:",A)}},onDeleteFleet:async P=>{try{await ne.deleteFleet(P),b(A=>A.filter(R=>R.id!==P)),v(A=>A.filter(R=>R.targetSquad.id!==P&&R.counterSquad.id!==P))}catch(A){console.error("Error deleting fleet:",A)}},onAddCounter:async P=>{try{const A={...P,id:`counter-${Date.now()}`},R=await ne.addOrUpdateCounter(A);v(H=>H.filter(ye=>ye.id!==R.id).concat(R))}catch(A){console.error("Error adding counter:",A)}},onDeleteCounter:async P=>{if(!s){e("Cannot delete counter while offline");return}try{console.log("Starting delete counter process for:",P),await ne.deleteCounter(P),v(A=>A.filter(R=>R.id!==P)),console.log("Counter deleted and state updated")}catch(A){console.error("Error deleting counter:",A);const R=A instanceof Error?A.message:"Failed to delete counter";e(R)}},onUpdateCounter:async P=>{try{await ne.addOrUpdateCounter(P),v(A=>{const R=A.findIndex(H=>H.id===P.id);if(R>=0){const H=[...A];return H[R]=P,H}return A})}catch(A){console.error("Error updating counter:",A)}}};return r||o||w?n.jsx("div",{className:"min-h-screen bg-space-black flex items-center justify-center",children:n.jsx(xt,{size:"lg"})}):t?n.jsx("div",{className:"min-h-screen bg-space-black flex items-center justify-center",children:n.jsxs("div",{className:"text-red-400 text-xl",children:["Error: ",t]})}):n.jsxs("div",{className:"min-h-screen bg-space-black text-white",children:[!s&&n.jsx("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500/90 text-black py-2 px-4 text-center z-50",children:"Du är offline. Ändringar kommer att synkroniseras när du återansluter."}),n.jsxs("div",{className:"min-h-screen bg-space-gradient bg-fixed",children:[n.jsx(ce,{mode:"wait",children:i?n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsx($f,{squads:h,fleets:g,counters:y,...q,onLogout:E})},"admin-interface"):n.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[n.jsx(Kh,{isAdmin:i,onAdminClick:()=>c(!0),onLogout:E}),n.jsx(Wf,{title:"SWGOH Territory Wars",subtitle:"Find the perfect counter for any squad or fleet",children:n.jsx(Hh,{activeView:d,onViewChange:u,onOptionsClick:()=>U(!0),filters:Y,children:n.jsx(Jr,{value:z,onChange:S,onClear:()=>S(""),suggestions:d==="squads"?N:j,onSelectSuggestion:P=>{x(P.id),S("")},placeholder:`Search ${d==="squads"?"teams":"fleets"}...`})})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx(ce,{mode:"wait",children:w?n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center min-h-[400px]",children:n.jsx(I.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-saber-blue-400/50 border-t-saber-blue-400 rounded-full"})},"loading"):n.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d==="squads"?n.jsx(Vm,{squads:h,filteredSquads:N,selectedSquadId:p,onSelectSquad:x,getCounters:P=>k(P,"squad"),isAdmin:i,onDeleteCounter:F,onViewDetails:()=>{}}):n.jsx(Om,{fleets:g,filteredFleets:j,selectedFleetId:p,onSelectFleet:x,getCounters:P=>k(P,"fleet"),isAdmin:i,onDeleteCounter:F,onViewDetails:()=>{}})},`content-${d}`)})}),n.jsx(xf,{isOpen:$,onClose:()=>U(!1),filters:Y,onFilterChange:L})]},"user-interface")}),l&&n.jsx(Gf,{onLogin:V,onClose:()=>c(!1)})]})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker registered with scope:",t.scope)},t=>{console.error("Service Worker registration failed:",t)})});Oi(document.getElementById("root")).render(n.jsx(f.StrictMode,{children:n.jsx(Bo,{children:n.jsx(Zf,{})})}));
//# sourceMappingURL=index-DjlEQ7Jh.js.map
